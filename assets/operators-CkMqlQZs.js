const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/apiConverter-Bazampn-.js","assets/ProjectionTransformation-BnkVBIoa.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/index-CCasRUIN.js","assets/index-4rsQkLC1.css","assets/jsonConverter-C24B79eG.js","assets/OperatorGeodeticLength-Dt6gpSiK.js","assets/MapImageLayer-BVG6PhbL.js","assets/QueryTask-D8hx0Y3Y.js","assets/query-Bb8GNNrv.js","assets/pbfQueryUtils-Dp5ijlqP.js","assets/pbf-CcUfFpaw.js","assets/memoryEstimations-XpIXu6m4.js","assets/OptimizedGeometry-W9iDIloo.js","assets/OptimizedFeatureSet-BySVQm4M.js","assets/executeQueryJSON-C9J4R_di.js","assets/featureConversionUtils-DG--BN25.js","assets/SceneLayerWorker-CqqwZCbW.js","assets/MeshLocalVertexSpace-CdbW0z9P.js","assets/vec3-CAnrSJC1.js","assets/projectVectorToVector-CoL21o2h.js","assets/projectPointToVector-CsbvifDl.js","assets/sphere-CA-5SYw6.js","assets/mat3f64-q3fE-ZOt.js","assets/plane-DC7tgE9D.js","assets/mat4f64-Dk4dwAN8.js","assets/quatf64-aQ5IuZRd.js","assets/I3SBinaryReader-CH9byT-C.js","assets/VertexAttribute-Cq4MnHjR.js","assets/edgeUtils-Q-kNT7go.js","assets/floatRGBA-C6fWWT-b.js","assets/NormalAttribute.glsl-DNucGW3Q.js","assets/glsl-BH37Aalp.js","assets/ShaderOutput-DnYY5J1_.js","assets/BindType-BBwFZqyN.js","assets/orientedBoundingBox-C0vAKTcX.js","assets/quat-B58fUHkx.js","assets/spatialReferenceEllipsoidUtils-3uG47glO.js","assets/computeTranslationToOriginAndRotation-BWf8TM_C.js","assets/popupUtils-NlxQmt5B.js","assets/associatedFeatureServiceUtils-Brlt-VTO.js","assets/SketchOptions-VqAfPbyS.js","assets/geodesicUtils-Dn5u4cJ-.js","assets/utils-Bd2Oa3Rp.js","assets/quantizationUtils-CEM-XgEu.js","assets/FeatureLayerSource-DuOOqZEG.js","assets/meshVertexSpaceUtils-Cc_LTFxS.js","assets/External-w9mZRFRU.js","assets/MeshTransform-DNIYtyfU.js","assets/axisAngleDegrees-7w5gWKnW.js","assets/editingSupport-D4NAI69H.js","assets/clientSideDefaults-AsnWcuHN.js","assets/QueryEngineCapabilities-B_pTbIiR.js","assets/layersCreator-BCaVxLw-.js","assets/loadUtils-DSDmaklo.js","assets/fetchService-BTqS3yAx.js","assets/lazyLayerLoader-CuZ13ZGo.js","assets/portalLayers-BKPSlzUo.js","assets/saveUtils-Dm9AB9GR.js","assets/multiOriginJSONSupportUtils-C0wm8_Yw.js","assets/ImageryTileLayerView2D-C8bYbgXK.js","assets/RasterVFDisplayObject-ClWo_jNP.js","assets/VertexArrayObject-BE_UeYb1.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/dataUtils-vj_cSZ2R.js","assets/WGLContainer-B5qjCnAQ.js","assets/dataViewUtils-B7UbnxDp.js","assets/BoundingBox-Ck_0T0bt.js","assets/ProgramTemplate-DgFCCuum.js","assets/vec3f32-nZdmKIgz.js","assets/Container-t6WLSGQe.js","assets/config-CKZ6K-Ri.js","assets/earcut-D9gy186-.js","assets/LayerView-SggrsYJk.js","assets/rasterUtils-GglxJ1vw.js","assets/VertexStream-eQ6dxpCe.js","assets/utils-l99LVrZ4.js","assets/FramebufferObject-CsnKGiBy.js","assets/TileContainer-DudTFQgK.js","assets/rasterProjectionHelper-D0g-2Gv_.js","assets/timeSupport-Cpw-Afon.js","assets/RefreshableLayerView-akuVIWN9.js","assets/RasterWorker-DYLltFgF.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/ElevationLayer-C7IBrjMM.js","assets/WorkerHandle-Ny6eBZma.js","assets/editingTools-C7E8e4Jv.js","assets/interfaces-DXvCqfhl.js","assets/VerticalOffset.glsl-CUGHQ5-3.js","assets/Indices-DAC-tmc9.js","assets/InterleavedLayout-BXidN2-6.js","assets/BufferView-BFWskoDl.js","assets/triangle-DUlWus67.js","assets/lineSegment-4wjH6G2N.js","assets/renderState-ChA8KnxB.js","assets/boundedPlane-D5HzG0LR.js","assets/requestImageUtils-DUvv2hBj.js","assets/TextureFormat-1mYWTFa-.js","assets/ShaderBuilder-DyTQgr8N.js","assets/triangulationUtils-BaSuHXc4.js","assets/deduplicate--r6f5Q5X.js","assets/RibbonLine.glsl-DehupRkM.js","assets/HUDVisibility.glsl-C6iSIq9N.js","assets/doublePrecisionUtils-B0owpBza.js","assets/hydratedFeatures-Bc0vz6UQ.js","assets/Octree-DwLnbmeJ.js","assets/HUDMaterial.glsl-CCcJuLvE.js","assets/NestedMap-GuqgquCN.js","assets/RouteLayerInteraction-DUVMWxRw.js","assets/GraphicsLayer-R_dqldM1.js","assets/RouteLayerView2D-CTELVKDW.js","assets/GraphicContainer-BmJ5tdAP.js","assets/AGraphicContainer-BCaT68D6.js","assets/TechniqueInstance-gtOZ8gLR.js","assets/UpdateTracking2D-BQJMCJnF.js","assets/FeatureCommandQueue-DuzuizWX.js","assets/CIMSymbolHelper-C-PNUGx1.js","assets/BidiEngine-QXap_35O.js","assets/fontUtils-CpwBOD2U.js","assets/Rect-CND4lKvw.js","assets/rasterizingUtils-BtVmLiFr.js","assets/TechniqueType-uMFRS8dR.js","assets/GraphShaderModule-lx78Pxat.js","assets/QueueProcessor-9E1AR8Dw.js","assets/GraphicsView2D-DEb6cU3H.js","assets/OverrideHelper-BFr5-Efp.js","assets/FeatureMetadata-85pzlv7s.js","assets/queryUtils-mxa1_Aw5.js","assets/json-Wa8cmqdu.js","assets/timeSupport-BC7Fc8xc.js","assets/TimeOnly-BeIN966s.js","assets/dehydratedFeatures-B_DgQ-a8.js","assets/automaticLengthMeasurementUtils-CfMzBTos.js","assets/memoize-DmxaQ-k8.js","assets/geodesicLengthMeasurementUtils-Ct4aKs9p.js","assets/geometryEngineBase-B0ZyeKAX.js","assets/hydrated-OQlVY2eD.js","assets/glUtil-DvuvX8rT.js","assets/automaticAreaMeasurementUtils-DM-wsW5M.js","assets/PointSnappingHint-CPQ6tTY4.js","assets/editPlaneUtils-CaFGf9Mp.js","assets/ReactiveSet-DX2QBHZn.js","assets/SelectedVertexTooltipInfo-ptR9MP2n.js","assets/TranslateTooltipInfo-C16YQRom.js","assets/ExtentScaleTooltipInfo-BMWzUDYC.js","assets/GraphicManipulator-D3Wy7gmW.js","assets/drapedUtils-Dppiwm9S.js","assets/KMLLayerView2D-i4jI7mz-.js","assets/BitmapTechnique-Dc25qTsv.js","assets/BitmapContainer-qcNS5yZy.js","assets/MaterialPrograms-CLR0KQyh.js","assets/webglDeps-c3yI9a2o.js","assets/testSVGPremultipliedAlpha-DMU9LCDN.js","assets/FeatureLayerView2D-DTfM8K_w.js","assets/AttributeBinsFeatureSet-CFaLL5US.js","assets/AttributeBinsQuery-COzpwK_v.js","assets/FixedIntervalBinParameters-CyiwYAkT.js","assets/CircularArray-CujHzHWW.js","assets/SDFHelper-DI0RBIgG.js","assets/parquet-CanranXy.js","assets/knowledgegraph-B5ARK9HH.js","assets/arcade-MjNlzZF_.js","assets/unitConversion-BOFUXCl3.js","assets/ImmutableArray-BPVd6ESQ.js","assets/shared-DJe_-sJH.js","assets/number-DwwUc6ea.js","assets/WhereClause-BxKF9q8u.js","assets/portalUtils-CAyvw0MI.js","assets/executeQueryForSnapping-DYz6RGzF.js","assets/PooledRBush-CtvaHitF.js","assets/optimizedFeatureQueryEngineAdapter-PN0-4Fl_.js","assets/QueryEngine-DhJb9WSU.js","assets/WhereClauseCache-C_tyPnsp.js","assets/SnappingCandidate-DGkpYqI6.js","assets/MemorySourceWorker-Cz-N8hHa.js","assets/sourceUtils-BzHCShhb.js","assets/date-Ctp1FiBW.js","assets/MediaLayerView2D-N6CaEYVh.js","assets/enums-BRzLM11V.js","assets/GridShader-DFKs3E4o.js","assets/PieChartMeshWriter-CXawq4_F.js","assets/libtess-BPfI4qTa.js","assets/utils-BzfqwBvk.js","assets/grouping-CnNyuMqa.js","assets/OverlayContainer-CNTRJYbM.js","assets/utils-ehcGqGxa.js","assets/FeaturePipelineWorker-DX2y_rX2.js","assets/MeshWriterRegistry-B8phN5kx.js","assets/operatorGeodeticDensify-CkPBsvgW.js","assets/geodeticCurveType-CirnHLSB.js","assets/geojson-CiROkDV-.js","assets/PointCloudWorker-CH9N2Jnq.js","assets/uploadAssets-BZnXq7D5.js","assets/meshFeatureAttributes-Cw3Eagre.js","assets/SourceLayerData-Dhzsd2m5.js","assets/VideoLayerView2D-Dd3p3cQx.js","assets/webdocSaveUtils-CKeU3bai.js","assets/basemapUtils-BhLAYO9e.js","assets/resourceUtils-ChGPyRVz.js","assets/WFSSourceWorker-B35XjjxU.js","assets/WMSLayerView2D-mJHMBuid.js","assets/ExportStrategy-DSo490d5.js","assets/MeshComponent-BNpJA8Yy.js","assets/meshProperties-C4iW0Ukm.js","assets/MeshVertexAttributes-ZHH7undV.js","assets/vec4-BQB9hcIJ.js","assets/loader-z18g9DVS.js","assets/objectResourceUtils-BR8rlZ_-.js","assets/RealisticTree.glsl-CAA6M_hp.js","assets/vertexSpaceConversion-DxhiOY_R.js","assets/featureLayerUtils-U-_dOUEK.js"])))=>i.map(i=>d[i]);
import{av as Ee,c5 as F,p3 as Kt,dz as k,c6 as Jt,f3 as R,fb as rt,fc as st,f2 as te,bZ as Q,dk as yt,dm as dt,dl as _t}from"./index-CCasRUIN.js";import{t as de,s as V}from"./SimpleGeometryCursor-B92kdZ15.js";import{a1 as en,b as y,j as J,a as h,aY as L,c as he,aZ as tn,X as nn,N as ne,a_ as rn,K as Me,l as K,am as le,a6 as me,a$ as fe,b0 as ge,b1 as pe,b2 as xt,b3 as sn,aU as De,b4 as on,A as un,a2 as an,h as cn,e as j,v as E,r as ot,b5 as z,aO as A,b6 as re,ao as se,aN as it,ar as ln,b7 as ut,b8 as oe,$ as vt,b9 as mn,B as fn,V as gn,k as pn,P as B,z as Se,ba as hn,bb as yn,bc as Ce,bd as dn,aM as _n,a0 as xn,be as vn,bf as $n,bg as bn,bh as Pn,bi as Nn,H as $t,C as Dn}from"./ProjectionTransformation-BnkVBIoa.js";import{getSpatialReference as v,toGeometry as w,fromGeometry as p,fromSpatialReference as N,toPolygon as bt,toPoint as _e,fromExtent as Pt,fromPolyline as Sn,fromPoint as Te}from"./apiConverter-Bazampn-.js";import{u as Cn,a as wn,s as En,c as Mn,i as Tn}from"./operatorGeodesicBuffer-HOrZqk7k.js";import{e as ee}from"./geodeticCurveType-CirnHLSB.js";import{i as In,a as Gn,s as An,c as qn,u as On}from"./operatorGeodeticDensify-CkPBsvgW.js";import{x as jn,l as Rn,f as Vn,P as Yn}from"./operatorBuffer-BjzHFmg2.js";import{X as Xn,_ as Bn,v as zn,M as kn}from"./operatorConvexHull-CffrZkUr.js";import{t as Ln}from"./OperatorCrosses-tjGdINvt.js";import{s as Fn,u as Un,o as Qn,t as Wn}from"./operatorIntersection-BYvWBiPf.js";import{t as Zn}from"./OperatorIntersects-Bl8WBZDB.js";import{D as Hn,j as Kn,w as Jn}from"./operatorOffset-C599CrCU.js";import{t as er}from"./OperatorOverlaps-Dk8ndSgz.js";import{s as tr,u as nr,o as rr,t as sr}from"./operatorSimplify-Cfxt8g0t.js";import{t as or}from"./OperatorTouches-BNsNrksB.js";import{s as ir,t as ur,o as ar}from"./operatorUnion-Bo0NLdHa.js";import{t as cr}from"./OperatorWithin-DsoVpsLd.js";const lr={uniform:0,conformal:1,rigid:2,"rigid-motion":3,general:4},ie=t=>t.map(e=>new y(e.x,e.y));let Nt=class{constructor(){this.transform=new en}calculateErrors(e,n){const r=e.length,s=n.length;if(r!==s)throw new Error(`The input length (${r}) is not the same as output length (${s})`);const o=[];return{rms:this.transform.calculateErrors(r,ie(e),ie(n),o),errorsOut:o}}flipX(e,n){return this.transform.flipX(e,n),this}flipY(e,n){return this.transform.flipY(e,n),this}initializeFromControlPoints(e,n,r,s){const o=n.length,i=r.length;if(o!==i)throw new Error(`The input length (${o}) is not the same as output length (${i})`);this.transform.initializeFromControlPoints(lr[e],o,ie(n),ie(r),s==null?void 0:s.transform)}isIdentity(){return this.transform.isIdentity()}rotate(e,n,r){const s=Ee(e);return n!=null&&r!=null?this.transform.rotateAngleAbout(s,new y(n,r)):this.transform.rotateAngle(s),this}scale(e,n){return this.transform.scale(e,n),this}setIdentity(){this.transform.setIdentity()}setSwapCoordinates(){return this.transform.setSwapCoordinates(),this}shear(e,n){return this.transform.shear(e,n),this}shift(e,n){return this.transform.shiftCoords(e,n),this}};const Ki=Object.freeze(Object.defineProperty({__proto__:null,default:Nt},Symbol.toStringTag,{value:"Module"}));let mr=class{getOperatorType(){return 10303}supportsCurves(){return!0}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}executeMany(e,n,r){return new fr(e,n,r)}execute(e,n,r){const s=e.clone();return s.applyTransformation(n),s}},fr=class extends de{constructor(e,n,r){super(),this.m_index=-1,this.m_transformation=n.clone(),this.m_inputGeometryCursor=e}next(){let e;if(e=this.m_inputGeometryCursor.next()){J(e),this.m_index=this.m_inputGeometryCursor.getGeometryID();const n=e.clone();return n.applyTransformation(this.m_transformation),n}return null}getGeometryID(){return this.m_index}tock(){return!0}getRank(){return 1}};const Ie=new mr;function gr(t,e){return Ie.execute(t,e,null)}function pr(t,e){const n=Ie.executeMany(new V(t),e,null);return Array.from(n)}function hr(){return Ie.supportsCurves()}function Dt(t,e){const n=v(t);return w(gr(p(t),e.transform),n)}function yr(t,e){const n=t.map(p),r=v(t);return pr(n,e.transform).map(s=>w(s,r)).filter(F)}const dr=hr(),tu=Object.freeze(Object.defineProperty({__proto__:null,execute:Dt,executeMany:yr,supportsCurves:dr},Symbol.toStringTag,{value:"Module"}));function _r(t,e={}){const{unit:n}=e;let r=p(t).calculateArea2D();if(r&&n){const s=v(t);if(s.isGeographic)throw new Error("Unable to convert from an angular area unit to a linear area unit.");const o=Kt(s);o!==n&&(o?r=k(r,o,n):(r=Math.sqrt(r),r*=Jt(s),r**=2,r=k(r,"square-meters",n)))}return r}const xr=!0,vr=Object.freeze(Object.defineProperty({__proto__:null,execute:_r,supportsCurves:xr},Symbol.toStringTag,{value:"Module"}));function $r(t,e,n={}){const{unit:r}=n,s=v(t);return r&&(e=R(e,r,s)),bt(Vn(p(t),N(s),e),s)}function br(t,e,n={}){let{maxDeviation:r=NaN,maxVerticesInFullCircle:s=96,union:o=!1,unit:i}=n;const u=v(t);i&&(e=e.map(c=>R(c,i,u)),r&&(r=R(r,i,u)));const a=t.map(p);return Rn(a,N(u),e,r,s,o).map(c=>bt(c,u)).filter(F)}const Pr=jn(),Nr=Object.freeze(Object.defineProperty({__proto__:null,execute:$r,executeMany:br,supportsCurves:Pr},Symbol.toStringTag,{value:"Module"}));function Dr(t,e){if(!t.isEmpty())switch(t.getGeometryType()){case h.enumPolygon:return St(t);case h.enumPolyline:return Cr(t);case h.enumLine:case h.enumBezier:case h.enumEllipticArc:return wr(t);case h.enumMultiPoint:return Er(t);case h.enumEnvelope:return t.getCenterXY();case h.enumPoint:return t.getXY();default:return y.construct(Number.NaN,Number.NaN)}return y.construct(Number.NaN,Number.NaN)}function Sr(t,e){return St(t,e)}function St(t,e=-1){const n=new L(0),r=new L(0),s=t.getImpl();let o;const i=s.hasNonLinearSegments();let u;const a=s.getXY(0);if(e===-1){if(u=s.calculateArea2D(),u===0)return lt(t);i&&(o=s.querySegmentIterator());for(let m=0,g=s.getPathCount();m<g;m++)at(a,s,m,n,r),i&&ct(a,o,n,r)}else{if(u=s.calculateRingArea2D(e),u===0)return lt(t,e);i&&(o=s.querySegmentIterator(),o.resetToPath(e)),at(a,s,e,n,r),i&&ct(a,o,n,r)}const c=new y,l=new y;return c.setCoords(n.getResult(),r.getResult()),l.assign(c.mul(1/u).add(a)),l}function at(t,e,n,r,s){const o=e.getPathStart(n),i=e.getPathEnd(n);if(i-o<3)return;const u=e.getAttributeStreamRef(0),a=u.readPoint2D(2*o),c=u.readPoint2D(2*(o+1));c.subThis(a);const l=new L(0),m=e.hasNonLinearSegments(),g=1/3,f=new y;for(let P=o+2;P<i;P++){u.queryPoint2D(2*P,f),f.subThis(a);const b=.5*f.crossProduct(c);m&&l.add(b);const x=g*b;r.add((c.x+f.x)*x),s.add((c.y+f.y)*x),c.setCoordsPoint2D(f)}const _=m?l.getResult():e.calculateRingArea2D(n),d=a.sub(t).mul(_);r.add(d.x),s.add(d.y)}function ct(t,e,n,r){let s;for(e.nextPath()||he("centroid");(s=e.nextCurve())!==null;){const o=s.calculateWeightedAreaCentroid2D(t);n.add(o.x),r.add(o.y)}}function Cr(t){return Ct(t.getImpl())}function wr(t){const e=t.calculateLength2D();return e===0?t.getStartXY():t.calculateWeightedCentroid2D().mul(1/e)}function Er(t){const e=new L(0),n=new L(0),r=t.getImpl(),s=r.getAttributeStreamRef(0),o=r.getPointCount(),i=new y;for(let a=0;a<o;a++)s.queryPoint2D(2*a,i),e.add(i.x),n.add(i.y);const u=new y;return u.setCoords(e.getResult(),n.getResult()),u.divThis(o)}function lt(t,e=-1){return Ct(t.getImpl(),e)}function Ct(t,e=-1){const n=e===-1?t.calculateLength2D():t.calculatePathLength2D(e);if(n===0)return Mr(t,e);const r=new L(0),s=new L(0),o=t.querySegmentIterator();for(e!==-1&&o.resetToPath(e);o.nextPath();){const u=o.getPathIndex(),a=t.getXY(t.getPathStart(u));for(;o.hasNextSegment();){const l=o.nextSegment(),m=l.calculateLength2D();if(m===0)continue;const g=l.calculateWeightedCentroid2D().sub(a.mul(m));r.add(g.x),s.add(g.y)}const c=a.mul(t.calculatePathLength2D(u));if(r.add(c.x),s.add(c.y),e!==-1)break}const i=new y;return i.setCoords(r.getResult(),s.getResult()),i.mul(1/n)}function Mr(t,e=-1){if(e!==-1)return t.getXY(t.getPathStart(e));const n=new L(0),r=new L(0);for(let s=0;s<t.getPathCount();++s){const o=t.getXY(t.getPathStart(s));n.add(o.x),r.add(o.y)}return y.construct(n.getResult(),r.getResult()).mul(1/t.getPathCount())}let Tr=class{getOperatorType(){return 10205}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}execute(e,n){return Dr(e)}};const wt=new Tr;function Ir(t){const e=wt.execute(p(t),null);return _e(e,v(t))}const Gr=wt.supportsCurves(),Ar=Object.freeze(Object.defineProperty({__proto__:null,execute:Ir,supportsCurves:Gr},Symbol.toStringTag,{value:"Module"})),Ge=new tn;function qr(t,e,n){return Ge.execute(t,e,n,null)}function Or(t,e,n){const r=Ge.executeMany(new V(t),e,n,null);return Array.from(r)}function jr(){return Ge.supportsCurves()}function Rr(t,e){const n=v(t),r=Pt(e).asEnvelope2D();return w(qr(p(t),r,N(n)),n)}function Vr(t,e){const n=t.map(p),r=v(t),s=Pt(e).asEnvelope2D();return Or(n,s,N(r)).map(o=>w(o,r))}const Yr=jr(),Xr=Object.freeze(Object.defineProperty({__proto__:null,execute:Rr,executeMany:Vr,supportsCurves:Yr},Symbol.toStringTag,{value:"Module"})),Ae=new nn;function Br(t){const e=v(t);return Ae.accelerateGeometry(p(t),N(e),1)}function zr(t,e){return Ae.execute(p(t),p(e),N(t.spatialReference),null)}const kr=Ae.supportsCurves(),Lr=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Br,execute:zr,supportsCurves:kr},Symbol.toStringTag,{value:"Module"}));function Fr(t){const e=v(t);return w(kn(p(t)),e)}function Ur(t,e={}){const{merge:n=!1}=e,r=t.map(p),s=v(t);return zn(r,n).map(o=>w(o,s))}function Qr(t){return Bn(p(t))}const Wr=Xn(),Zr=Object.freeze(Object.defineProperty({__proto__:null,execute:Fr,executeMany:Ur,isConvex:Qr,supportsCurves:Wr},Symbol.toStringTag,{value:"Module"})),qe=new Ln;function Hr(t){const e=v(t);return qe.accelerateGeometry(p(t),N(e),1)}function Kr(t,e){return qe.execute(p(t),p(e),N(t.spatialReference),null)}const Jr=qe.supportsCurves(),es=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Hr,execute:Kr,supportsCurves:Jr},Symbol.toStringTag,{value:"Module"}));var Et=on;function U(t,e){return{m_geometry:t,m_side:e}}function ts(t,e,n,r,s,o){if(e.isEmpty()){const a=U(e,0);return void s.push(a)}if(n.isEmpty()){const a=U(e,0);return void s.push(a)}const i=[],u=new me;{const a=u.createGeometryUserIndex(),c=u.addGeometry(e),l=u.addGeometry(n),m=new xt(o);let g=0,f=null;if(u.hasCurves()){f=new Et;const _=u.getEnvelope2D(o);g=fe(r.total());const d=ge(r.total(),_);pe(u,d,r.total(),12e3,f,null,o)}u.dbgVerifyCurves(),m.setEditShapeCrackAndCluster(u,r),m.cut(t,a,c,l,i);for(const _ of i){f!==null&&f.stitchCurves(u,_,g,!1);const d=U(u.getGeometry(_),sn(u.getGeometryUserIndex(_,a)));s.push(d)}f!==null&&f.clearStitcher(u)}}function ns(t,e,n,r,s,o){if(e.isEmpty()){const a=U(e,0);return void s.push(a)}if(n.isEmpty()){const a=U(e,0);return void s.push(a)}const i=[],u=new me;{const a=u.createGeometryUserIndex(),c=u.addGeometry(e),l=u.addGeometry(n),m=new xt(o);let g=0,f=null;if(u.hasCurves()){f=new Et;const x=u.getEnvelope2D(o);g=fe(r.total());const D=ge(r.total(),x);pe(u,D,r.total(),12e3,f,null,o)}u.dbgVerifyCurves(),m.setEditShapeCrackAndCluster(u,r),m.cut(!1,a,c,l,i),f!==null&&f.stitchCurves(u,De,g,!0);let _=u.getGeometry(c);const d=new K,P=new K,b=[];for(let x=0;x<i.length;x++){let D=null;{const S=new me,M=S.addGeometry(_),C=S.addGeometry(u.getGeometry(i[x]));if(S.hasCurves()){const Y=S.getEnvelope2D(o);g=fe(r.total());const X=ge(r.total(),Y);pe(S,X,r.total(),12e3,f,null,o)}m.setEditShapeCrackAndCluster(S,r);const G=m.intersection(M,C);if(f!==null&&f.stitchCurves(S,De,g,!0),D=S.getGeometry(G),D.isEmpty())continue;const q=u.getGeometryUserIndex(i[x],a);q===2?d.add(D,!1):q===1?P.add(D,!1):b.push(D)}{const S=new me,M=S.addGeometry(_),C=S.addGeometry(u.getGeometry(i[x]));if(S.hasCurves()){const q=S.getEnvelope2D(o);g=fe(r.total());const Y=ge(r.total(),q);pe(S,Y,r.total(),12e3,f,null,o)}m.setEditShapeCrackAndCluster(S,r);const G=m.difference(M,C);f!==null&&f.stitchCurves(S,De,g,!0),_=S.getGeometry(G)}}if(!_.isEmpty()&&i.length>0&&b.push(_),d.isEmpty()&&P.isEmpty())return;if(!d.isEmpty()){const x=U(d,1);s.push(x)}if(!P.isEmpty()){const x=U(P,2);s.push(x)}for(let x=0,D=b.length;x<D;++x){const S=U(b[x],3);s.push(S)}}}let rs=class{getOperatorType(){return 10005}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}execute(e,n,r,s,o){return new ss(e,n,r,s,o)}},ss=class extends de{constructor(e,n,r,s,o){super(),this.m_cutIndex=-1,this.m_cuts=[],this.m_progressTracker=o,this.m_cuttee=n.clone(),this.m_cutter=new ne({copy:r}),this.m_bConsiderTouch=e;const i=rn(n,r);this.m_tolerance=Me(s,i,!0)}next(){return this.m_cutIndex===-1&&this.generateCuts(),++this.m_cutIndex<this.m_cuts.length?this.m_cuts[this.m_cutIndex]:null}getGeometryID(){return this.m_cutIndex}tock(){return!0}getRank(){return 1}generateCuts(){switch(this.m_cuttee.getGeometryType()){case h.enumPolyline:this.generatePolylineCuts();break;case h.enumPolygon:this.generatePolygonCuts()}}generatePolylineCuts(){const e=new ne,n=new ne,r=new ne;this.m_cuts.length=0,this.m_cuts.push(e),this.m_cuts.push(n);const s=[];ts(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,s,this.m_progressTracker);for(let o=0;o<s.length;o++){const i=s[o];i.m_side===1?e.add(i.m_geometry,!1):i.m_side===2||i.m_side===4?n.add(i.m_geometry,!1):i.m_side===3?this.m_cuts.push(i.m_geometry):i.m_side===0?r.add(i.m_geometry,!1):he("")}r.isEmpty()||e.isEmpty()&&n.isEmpty()&&!(this.m_cuts.length>=3)||this.m_cuts.push(r),e.isEmpty()&&n.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}generatePolygonCuts(){const e=new K,n=new K,r=new K;this.m_cuts.length=0,this.m_cuts.push(e),this.m_cuts.push(n);const s=[];ns(this.m_bConsiderTouch,this.m_cuttee,this.m_cutter,this.m_tolerance,s,this.m_progressTracker);for(let o=0;o<s.length;o++){const i=s[o];i.m_side===1?e.add(i.m_geometry,!1):i.m_side===2?n.add(i.m_geometry,!1):i.m_side===3?this.m_cuts.push(i.m_geometry):i.m_side===0?r.add(i.m_geometry,!1):he("")}le(r.isEmpty()||s.length===1),e.isEmpty()&&n.isEmpty()&&this.m_cuts.length<3&&(this.m_cuts.length=0)}};const Mt=new rs;function os(t,e,n){const r=Mt.execute(!0,t,e,n,null);return Array.from(r)}function is(){return Mt.supportsCurves()}function us(t,e){const n=v(t);return os(p(t),Sn(e),N(n)).map(r=>w(r,n)).filter(F)}const as=is(),cs=Object.freeze(Object.defineProperty({__proto__:null,execute:us,supportsCurves:as},Symbol.toStringTag,{value:"Module"})),Oe=new un;function ls(t,e,n,r){return Oe.execute(t,e,n,r,null)}function ms(t,e,n,r){const s=Oe.executeMany(new V(t),e,n,r,null);return Array.from(s)}function fs(){return Oe.supportsCurves()}function gs(t,e,n={}){let{maxAngleInDegrees:r=0,maxDeviation:s=0,unit:o}=n;const i=v(t);return o&&(e=R(e,o,i),s&&(s=R(s,o,i))),w(ls(p(t),e,s,Ee(r)),i)}function ps(t,e,n={}){let{maxAngleInDegrees:r=0,maxDeviation:s=0,unit:o}=n;const i=t.map(p),u=v(t);return o&&(e=R(e,o,u),s&&(s=R(s,o,u))),ms(i,e,s,Ee(r)).map(a=>w(a,u)).filter(F)}const hs=fs(),ys=Object.freeze(Object.defineProperty({__proto__:null,execute:gs,executeMany:ps,supportsCurves:hs},Symbol.toStringTag,{value:"Module"})),je=new an;function ds(t,e,n){return je.execute(t,e,n,null)}function _s(t,e,n){const r=je.executeMany(new V(t),new V([e]),n,null);return Array.from(r)}function xs(){return je.supportsCurves()}function vs(t,e){const n=v(t);return w(ds(p(t),p(e),N(n)),n)}function $s(t,e){const n=t.map(p),r=v(t);return _s(n,p(e),N(r)).map(s=>w(s,r))}const bs=xs(),Ps=Object.freeze(Object.defineProperty({__proto__:null,execute:vs,executeMany:$s,supportsCurves:bs},Symbol.toStringTag,{value:"Module"})),Re=new cn;function Ns(t){const e=v(t);return Re.accelerateGeometry(p(t),N(e),1)}function Ds(t,e){return Re.execute(p(t),p(e),N(t.spatialReference))}const Ss=Re.supportsCurves(),Cs=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Ns,execute:Ds,supportsCurves:Ss},Symbol.toStringTag,{value:"Module"}));function we(){return{outPoint:new y,index:-1,t:Number.NaN}}function ue(t,e,n){return{outPoint:t.clone(),index:e,t:n}}function T(t,e,n,r){t.outPoint.assign(e),t.index=n,t.t=r}function H(t,e){t.outPoint.assign(e.outPoint),t.index=e.index,t.t=e.t}function mt(t,e,n,r){t.index=n,t.t=r,e.queryCoord2D(t.t,t.outPoint)}function ae(t,e){const n=we();H(n,t),H(t,e),H(e,n)}function ws(t,e,n,r,s,o){if(t.getGeometryType()===h.enumPolygon){for(;r.nextPath();)if(r.hasNextSegment()){const i=r.nextSegment();if(z(t,i.getEndXY(),0)!==0)return T(s,i.getEndXY(),-1,Number.NaN),T(o,i.getEndXY(),-1,Number.NaN),!0}r.resetToFirstPath()}if(e.getGeometryType()===h.enumPolygon){for(;n.nextPath();)if(n.hasNextSegment()){const i=n.nextSegment();if(z(e,i.getEndXY(),0)!==0)return T(s,i.getEndXY(),-1,Number.NaN),T(o,i.getEndXY(),-1,Number.NaN),!0}n.resetToFirstPath()}return!1}function Es(t){const e=t.getPathCount(),n=vt(t.getSegmentCount(),0);let r=0;for(let s=0;s<e;++s){const o=r+t.getSegmentCountPath(s);for(let i=r,u=t.getPathStart(s);i<o;++i,++u)n[i]=u;r=o}return mn(t.getPointCount(),n),n}function ft(t,e){return!!Number.isNaN(e)||t<=e}function ce(t){const e=new K;return e.addEnvelope(t,!1),e}let Ms=class{constructor(e,n){if(this.m_env2DgeometryA=null,this.m_env2DgeometryB=null,this.m_progressCounter=0,this.m_progressTracker=n,this.m_maxSqrDistance=e*e,this.m_maxDistance=e,this.m_bIsNearCalc=!1,Number.isNaN(this.m_maxDistance)?this.m_maxDistance=Number.POSITIVE_INFINITY:this.m_maxDistance=e,this.m_maxSqrDistance=this.m_maxDistance*this.m_maxDistance,Number.isFinite(this.m_maxSqrDistance)){let r=Math.sqrt(this.m_maxSqrDistance);for(;r<this.m_maxDistance;)this.m_maxSqrDistance*=1+Number.EPSILON,r=Math.sqrt(this.m_maxSqrDistance)}}calculate(e,n,r,s){if((e.getGeometryType()!==j.type||n.getGeometryType()!==j.type)&&(this.m_env2DgeometryA=new E,this.m_env2DgeometryB=new E,e.queryEnvelope(this.m_env2DgeometryA),n.queryEnvelope(this.m_env2DgeometryB),!ft(this.m_env2DgeometryA.distanceFromEnvelope(this.m_env2DgeometryB),this.m_maxDistance)))return Number.POSITIVE_INFINITY;const o=ue(new y,oe(),Number.NaN),i=ue(new y,oe(),Number.NaN),u=this._ExecuteBruteForce(e,n,o,i);return ft(u,this.m_maxDistance)?(r!==null&&H(r,o),s!==null&&H(s,i),u):Number.POSITIVE_INFINITY}isNear(e,n){if(this.m_bIsNearCalc=!0,e.isEmpty()||n.isEmpty())return!1;if(e===n)return!0;let r=!0;if(e.getGeometryType()!==j.type&&e.getGeometryType()!==ot.type||n.getGeometryType()!==j.type&&n.getGeometryType()!==ot.type||(r=!1),r){if(this.m_env2DgeometryA=new E,this.m_env2DgeometryB=new E,e.queryEnvelope(this.m_env2DgeometryA),n.queryEnvelope(this.m_env2DgeometryB),!(this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)>this.m_maxSqrDistance))return!0;if(this.m_env2DgeometryA.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>this.m_maxSqrDistance)return!1}const s=ue(new y,oe(),Number.NaN),o=ue(new y,oe(),Number.NaN);return this._ExecuteBruteForce(e,n,s,o)<=this.m_maxDistance}progress_(e=!1){}_ExecuteBruteForce(e,n,r,s){switch(e.getGeometryType()){case h.enumPoint:return this.distancePointGeometry(e,n,r,s);case h.enumMultiPoint:return this.distanceMultipointGeometry(e,n,r,s);case h.enumEnvelope:return this.distanceEnvelopeGeometry(e,n,r,s);case h.enumPolyline:case h.enumPolygon:return this.distanceMultipathGeometry(e,n,r,s);default:return Number.NaN}}distancePointGeometry(e,n,r,s){switch(n.getGeometryType()){case h.enumPoint:return this.distancePointPoint(e,n,r,s);case h.enumMultiPoint:return this.distancePointMultipoint(e,n,r,s);case h.enumPolyline:case h.enumPolygon:return this.distancePointMultipath(e,n,r,s);case h.enumEnvelope:return this.distancePointEnvelope(e,n,r,s);default:return Number.NaN}}distancePointPoint(e,n,r,s){const o=e.getXY(),i=n.getXY();return T(r,o,0,0),T(s,i,0,0),Math.sqrt(y.sqrDistance(o,i))}distancePointMultipoint(e,n,r,s){const o=e.getXY();let i=this.m_maxSqrDistance,u=i,a=!1;const c=n.getPointCount(),l=new y;for(let m=0;m<c;++m)if(n.queryXY(m,l),u=y.sqrDistance(o,l),this.m_bIsNearCalc){if(u<=i)return 0}else if(!(u>i)&&(!a&&u===i||u<i)&&(i=u,T(r,o,0,0),T(s,l,m,0),a=!0,i===0))return 0;return a?Math.sqrt(i):Number.POSITIVE_INFINITY}distancePointMultipath(e,n,r,s){const o=!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB),i=e.getXY();if(!o&&n.getGeometryType()===h.enumPolygon&&z(n,i,0)!==0)return T(r,i,0,0),T(s,i,-1,Number.NaN),0;n.getImpl().getAccelerators();let u=this.m_maxSqrDistance,a=u,c=-1;const l=new E,m=n.querySegmentIterator();let g=!1;for(;m.nextPath();)for(;m.hasNextSegment();){const f=m.nextSegment();f.queryEnvelope(l);const _=l.sqrDistance(i);if(_>u||!this.m_bIsNearCalc&&g&&_===u)continue;c=f.getClosestCoordinate(i,!1);const d=f.getCoord2D(c);if(a=y.sqrDistance(i,d),this.m_bIsNearCalc){if(a<=u)return 0}else if(!(a>u)&&(!g||a<u)&&(u=a,T(r,i,0,0),T(s,d,m.getStartPointIndex(),c),g=!0,u===0))return 0}return g?Math.sqrt(u):Number.POSITIVE_INFINITY}distancePointEnvelope(e,n,r,s){const o=e.getXY();T(r,o,0,0),T(s,o,-1,Number.NaN);const i=n.asEnvelope2D();return i.contains(o)?0:Math.sqrt(i.sqrDistance(o,s.outPoint))}distanceMultipointGeometry(e,n,r,s){switch(n.getGeometryType()){case h.enumPoint:{this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distancePointMultipoint(n,e,s,r);return this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case h.enumMultiPoint:return this.distanceMultipointMultipoint(e,n,r,s,1,1);case h.enumPolyline:case h.enumPolygon:return this.distanceMultipointMultipath(e,n,r,s);case h.enumEnvelope:return this.distanceMultipointMultipath(e,ce(n),r,s);default:return Number.NaN}}distanceMultipointMultipoint(e,n,r,s,o,i){const u={stack:[],error:void 0,hasError:!1};try{if(this.m_bIsNearCalc&&o===1&&i===1){const S=Math.trunc(re(Math.sqrt(e.getPointCount())+1,1,se())),M=Math.trunc(re(Math.sqrt(n.getPointCount())+1,1,se()));if((S>=4||M>=4)&&this.distanceMultipointMultipoint(e,n,r,s,S,M)<=this.m_maxSqrDistance)return 0}let a=this.m_maxSqrDistance;const c=[e],l=[n],m=this.swapGeometriesIfBGtA(c,l);m&&(this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),i=A(o,o=i),ae(r,s)),rt(u,it(()=>{ae(r,s),this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)},!m),!1);const g=c[0].getImpl(),f=l[0].getImpl(),_=g.getPointCount(),d=f.getPointCount(),P=d>1;let b=!1;const x=new y,D=new y;for(let S=0;S<_;S+=o){if(g.queryXY(S,x),P){const M=this.m_env2DgeometryB.sqrDistance(x);if(this.m_bIsNearCalc){if(M>a)continue;if(this.m_env2DgeometryB.sqrMaxMinDistance(x)<=a)return 0}else if(M>=a)continue}for(let M=0;M<d;M+=i){f.queryXY(M,D);const C=y.sqrDistance(x,D);if(this.m_bIsNearCalc){if(C<=a)return 0}else if(!(C>a||b&&C===a)&&(!b||C<a)&&(T(r,x,S,0),T(s,D,M,0),b=!0,a=C,a===0))return b?Math.sqrt(a):Number.POSITIVE_INFINITY}}return b?Math.sqrt(a):Number.POSITIVE_INFINITY}catch(a){u.error=a,u.hasError=!0}finally{st(u)}}distanceMultipointMultipath(e,n,r,s){let o=!!this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)&&n.getGeometryType()===h.enumPolygon;const i=n.querySegmentIterator();i.stripAttributes();const u=new E,a=new y;let c=this.m_maxSqrDistance;const l=e.getImpl(),m=l.getPointCount(),g=m>1;let f=!1;for(;i.nextPath();)for(;i.hasNextSegment();){const _=i.nextSegment();if(_.queryLooseEnvelope(u),g){const d=u.sqrDistanceEnvelope(this.m_env2DgeometryA,null,null);if(this.m_bIsNearCalc){if(d>c)continue}else if(d>c||f&&d===c)continue}for(let d=0;d<m;d++){if(l.queryXY(d,a),o&&z(n,a,0)!==0)return T(r,a,-1,Number.NaN),T(s,a,d,0),0;{const D=u.sqrDistance(a);if(this.m_bIsNearCalc){if(D>c)continue}else if(D>c)continue}const P=_.getClosestCoordinate(a,!1),b=_.getCoord2D(P);a.subThis(b);const x=a.sqrLength();if(this.m_bIsNearCalc){if(x<=c)return 0}else if(!(x>c)&&(!f||x<c)&&(c=x,T(r,l.getXY(d),d,0),T(s,b,i.getStartPointIndex(),P),f=!0,c===0))return 0}o=!1}return f?Math.sqrt(c):Number.POSITIVE_INFINITY}distanceEnvelopeGeometry(e,n,r,s){switch(n.getGeometryType()){case h.enumPoint:return this.distancePointEnvelope(n,e,s,r);case h.enumMultiPoint:{this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distanceMultipointMultipath(n,ce(e),s,r);return this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case h.enumPolyline:case h.enumPolygon:return this.distanceMultipathMultipath(ce(e),n,r,s);case h.enumEnvelope:return this.distanceEnvelopeEnvelope(e,n,r,s);default:return Number.NaN}}distanceEnvelopeEnvelope(e,n,r,s){r.t=Number.NaN,r.index=-1,s.t=Number.NaN,s.index=-1;const o=e.asEnvelope2D(),i=n.asEnvelope2D();return Math.sqrt(o.sqrDistanceEnvelope(i,r.outPoint,s.outPoint))}distanceMultipathGeometry(e,n,r,s){switch(n.getGeometryType()){case h.enumPoint:{this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distancePointMultipath(n,e,s,r);return this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case h.enumMultiPoint:{this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB);const o=this.distanceMultipointMultipath(n,e,s,r);return this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),o}case h.enumPolyline:case h.enumPolygon:return this.distanceMultipathMultipath(e,n,r,s);case h.enumEnvelope:return this.distanceMultipathMultipath(e,ce(n),r,s);default:return Number.NaN}}distanceMultipathMultipath(e,n,r,s){const o={stack:[],error:void 0,hasError:!1};try{const i=[e],u=[n],a=this.swapGeometriesIfAGtB(i,u);a&&(this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB),ae(r,s)),rt(o,it(()=>{ae(r,s),this.m_env2DgeometryB=A(this.m_env2DgeometryA,this.m_env2DgeometryA=this.m_env2DgeometryB)},!a),!1);const c=i[0],l=u[0],m=c.querySegmentIterator();m.stripAttributes();const g=l.querySegmentIterator();if(g.stripAttributes(),this.m_bIsNearCalc&&this.m_env2DgeometryA.sqrMaxMinDistanceEnvelope(this.m_env2DgeometryB)<=this.m_maxSqrDistance)return 0;if(this.m_bIsNearCalc){const C=Math.trunc(re(Math.sqrt(c.getPointCount())+1,1,se())),G=Math.trunc(re(Math.sqrt(c.getPointCount())+1,1,se()));if(this.distanceMultipointMultipoint(c,l,r,s,C,G)<=this.m_maxSqrDistance)return 0}if(this.m_env2DgeometryA.isIntersecting(this.m_env2DgeometryB)){const C=we(),G=we();if(ws(c,l,m,g,C,G))return H(r,C),H(s,G),0}const f=Es(c),_=[],d=new ln,P=new E,b=new E,x=new E;let D=this.m_maxSqrDistance,S=!0,M=!1;for(let C=0,G=f.length;C<G;++C){c.querySegment(f[C],d,!0);const q=d.get();if(q.queryEnvelope(P),!(P.sqrDistanceEnvelope(this.m_env2DgeometryB,null,null)>D)){if(this.m_bIsNearCalc&&P.sqrMaxDistanceEnvelope(this.m_env2DgeometryB)<=D)return 0;for(;g.nextPath();){if(this.progress_(),S)l.queryPathEnvelope(g.getPathIndex(),x),_[g.getPathIndex()]=x.clone();else if(P.sqrDistanceEnvelope(_[g.getPathIndex()],null,null)>D)continue;for(;g.hasNextSegment();){const Y=g.nextSegment();if(Y.queryEnvelope(b),P.sqrDistanceEnvelope(b,null,null)<=D){const X=!P.isIntersecting(b),$=[0],I=[0];let O=q.distance(Y,X,$,I);if(O*=O,this.m_bIsNearCalc&&O<=this.m_maxSqrDistance)return 0;if(O<D||O===D&&f[C]<r.index){if(M=!0,mt(r,q,f[C],$[0]),mt(s,Y,g.getStartPointIndex(),I[0]),O===0)return 0;D=O}}}}g.resetToFirstPath(),S=!1}}return M?Math.sqrt(D):Number.POSITIVE_INFINITY}catch(i){o.error=i,o.hasError=!0}finally{st(o)}}swapGeometriesIfAGtB(e,n){return ut(e[0])>ut(n[0])&&(n[0]=A(e[0],e[0]=n[0]),!0)}swapGeometriesIfBGtA(e,n){return this.swapGeometriesIfAGtB(n,e)}},Ts=class{getOperatorType(){return 10100}supportsCurves(){return!0}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}execute(e,n,r){return this.executeEx(e,n,r,null,null,Number.NaN)}executeEx(e,n,r,s,o,i){if(e.isEmpty()||n.isEmpty())return Number.NaN;J(e),J(n);const u=e,a=n;Number.isNaN(i)&&(i=Number.POSITIVE_INFINITY);const c=new Ms(i,r).calculate(u,a,s,o);return Number.isFinite(c)?c:Number.NaN}};const Tt=new Ts;function Is(t,e,n={}){const{unit:r}=n;let s=Tt.execute(p(t),p(e),null);if(s&&r){const o=v(t);s=te(s,o,r)}return s}const Gs=Tt.supportsCurves(),As=Object.freeze(Object.defineProperty({__proto__:null,execute:Is,supportsCurves:Gs},Symbol.toStringTag,{value:"Module"}));let qs=class extends fn{getOperatorType(){return 2}execute(e,n,r,s){return gn(e,n,r,3,s)}};const Ve=new qs;function Os(t){const e=v(t);return Ve.accelerateGeometry(p(t),N(e),1)}function js(t,e){return Ve.execute(p(t),p(e),N(t.spatialReference),null)}const Rs=Ve.supportsCurves(),Vs=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Os,execute:js,supportsCurves:Rs},Symbol.toStringTag,{value:"Module"})),Ye=new Yn;function Ys(t,e,n){return Ye.execute(t,e,n,null)}function Xs(t,e,n){const r=Ye.executeMany(new V(t),e,n,null);return Array.from(r)}function Bs(){return Ye.supportsCurves()}function zs(t,e,n={}){const{removeDegenerateParts:r=!1,unit:s}=n,o=v(t);return s&&(e=R(e,s,o)),w(Ys(p(t),e,r),o)}function ks(t,e,n={}){const{removeDegenerateParts:r=!1,unit:s}=n,o=t.map(p),i=v(t);return s&&(e=R(e,s,i)),Xs(o,e,r).map(u=>w(u,i)).filter(F)}const Ls=Bs(),Fs=Object.freeze(Object.defineProperty({__proto__:null,execute:zs,executeMany:ks,supportsCurves:Ls},Symbol.toStringTag,{value:"Module"}));let xe,Xe,Be,ze,It;function Gt(){return!!xe&&En()}async function At(){if(!Gt()){const[t]=await Promise.all([Q(()=>import("./apiConverter-Bazampn-.js"),__vite__mapDeps([0,1,2,3,4,5])),Cn()]);xe=t.fromGeometry,Xe=t.fromSpatialReference,Be=t.getSpatialReference,ze=t.toPolygon,It=wn()}}function Us(t,e,n={}){let{curveType:r="geodesic",maxDeviation:s=NaN,unit:o}=n;o&&(e=k(e,o,"meters"),s&&(s=k(s,o,"meters")));const i=Be(t);return ze(Tn(xe(t),Xe(i),ee[r],e,s),i)}function Qs(t,e,n={}){let{curveType:r="geodesic",maxDeviation:s=NaN,union:o=!1,unit:i}=n;i&&(e=e.map(c=>k(c,i,"meters")),s&&(s=k(s,i,"meters")));const u=t.map(xe),a=Be(t);return Mn(u,Xe(a),ee[r],e,s,o).map(c=>ze(c,a)).filter(F)}const Ws=Object.freeze(Object.defineProperty({__proto__:null,execute:Us,executeMany:Qs,isLoaded:Gt,load:At,get supportsCurves(){return It}},Symbol.toStringTag,{value:"Module"}));let ve;function qt(){return!!ve&&_t()}async function Zs(){if(!qt()){const[t,e]=await Promise.all([Q(()=>import("./OperatorGeodeticLength-Dt6gpSiK.js").then(n=>n.a3),__vite__mapDeps([6,3,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,2,189,190,191,192,193,194,195,196,197,198,199,200,201,1,5,202,203,204,205,206,207,208,209,210])),Q(()=>import("./ProjectionTransformation-BnkVBIoa.js").then(n=>n.bF),__vite__mapDeps([1,2,3,4])).then(n=>n.aG).then(({injectPe:n})=>n),yt()]);ve=new t.OperatorGeodeticArea,e(dt)}}function Hs(t,e,n){return ve.execute(t,e,n,null)}function Ks(){return ve.supportsCurves()}let ke,Ot,jt,Rt;function Vt(){return!!ke&&qt()}async function Yt(){if(!Vt()){const[t]=await Promise.all([Q(()=>import("./apiConverter-Bazampn-.js"),__vite__mapDeps([0,1,2,3,4,5])),Zs()]);ke=t.fromGeometry,Ot=t.fromSpatialReference,jt=t.getSpatialReference,Rt=Ks()}}function Js(t,e={}){const{curveType:n="geodesic",unit:r}=e,s=jt(t);let o=Hs(ke(t),Ot(s),ee[n]);return o&&r&&(o=k(o,"square-meters",r)),o}const eo=Object.freeze(Object.defineProperty({__proto__:null,execute:Js,isLoaded:Vt,load:Yt,get supportsCurves(){return Rt}},Symbol.toStringTag,{value:"Module"}));let $e,Le,Fe,Ue,Xt;function Bt(){return!!$e&&An()}async function zt(){if(!Bt()){const[t]=await Promise.all([Q(()=>import("./apiConverter-Bazampn-.js"),__vite__mapDeps([0,1,2,3,4,5])),In()]);$e=t.fromGeometry,Le=t.fromSpatialReference,Fe=t.getSpatialReference,Ue=t.toGeometry,Xt=Gn()}}function to(t,e,n={}){const{curveType:r="geodesic",unit:s}=n;s&&(e=k(e,s,"meters"));const o=Fe(t);return Ue(On($e(t),e,Le(o),ee[r]),o)}function no(t,e,n={}){const{curveType:r="geodesic",unit:s}=n;s&&(e=k(e,s,"meters"));const o=t.map($e),i=Fe(t);return qn(o,e,Le(i),ee[r]).map(u=>Ue(u,i))}const ro=Object.freeze(Object.defineProperty({__proto__:null,execute:to,executeMany:no,isLoaded:Bt,load:zt,get supportsCurves(){return Xt}},Symbol.toStringTag,{value:"Module"}));let be;function kt(){return!!be&&_t()}async function so(){if(!kt()){const[t,e]=await Promise.all([Q(()=>import("./OperatorGeodeticLength-Dt6gpSiK.js").then(n=>n.a4),__vite__mapDeps([6,3,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,2,189,190,191,192,193,194,195,196,197,198,199,200,201,1,5,202,203,204,205,206,207,208,209,210])),Q(()=>import("./ProjectionTransformation-BnkVBIoa.js").then(n=>n.bF),__vite__mapDeps([1,2,3,4])).then(n=>n.aG).then(({injectPe:n})=>n),yt()]);be=new t.OperatorGeodeticLength,e(dt)}}function oo(t,e,n){return be.execute(t,e,n,null)}function io(){return be.supportsCurves()}let Qe,Lt,Ft,Ut;function Qt(){return!!Qe&&kt()}async function Wt(){if(!Qt()){const[t]=await Promise.all([Q(()=>import("./apiConverter-Bazampn-.js"),__vite__mapDeps([0,1,2,3,4,5])),so()]);Qe=t.fromGeometry,Lt=t.fromSpatialReference,Ft=t.getSpatialReference,Ut=io()}}function uo(t,e={}){const{curveType:n="geodesic",unit:r}=e,s=Ft(t);let o=oo(Qe(t),Lt(s),ee[n]);return o&&r&&(o=k(o,"meters",r)),o}const ao=Object.freeze(Object.defineProperty({__proto__:null,execute:uo,isLoaded:Qt,load:Wt,get supportsCurves(){return Ut}},Symbol.toStringTag,{value:"Module"}));function co(t){const e=v(t);return Wn(p(t),N(e))}function lo(t,e){const n=v(t);return w(Qn(p(t),p(e),N(n)),n)}function mo(t,e){const n=t.map(p),r=v(t);return Un(n,p(e),N(r),7).map(s=>w(s,r)).filter(F)}const fo=Fn(),go=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:co,execute:lo,executeMany:mo,supportsCurves:fo},Symbol.toStringTag,{value:"Module"})),We=new Zn;function po(t){const e=v(t);return We.accelerateGeometry(p(t),N(e),1)}function ho(t,e){return We.execute(p(t),p(e),N(t.spatialReference),null)}const yo=We.supportsCurves(),_o=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:po,execute:ho,supportsCurves:yo},Symbol.toStringTag,{value:"Module"}));function gt(){return W(new y,-1,Number.NaN)}function W(t,e,n){return{m_coordinate:t.clone(),m_vertexIndex:e,m_geometryIndex:0,m_distance:n,m_bRightSide:!1,isEmpty:xo}}function xo(){return Number.isNaN(this.m_distance)}function ye(t,e,n=-1,r=-1){if(t.isEmpty())return 3;const s=t.getGeometryType();if(pn(s))return vo(t,e,n,r);if(s===h.enumPolygon)return $o(t,e,n,r);if(s===h.enumPolyline)return bo(t,e,n,r);if(s===h.enumEnvelope){const o=new E;return t.queryEnvelope(o),o.contains(e)?o.containsExclusive(e)?1:2:0}return 3}function vo(t,e,n,r){if(n>=0||r>=0)return B("");if(t.isDegenerate(0))return t.getStartXY().equals(e)?2:3;if(!t.isCurve()){const a=y.orientationRobust(e,t.getStartXY(),t.getEndXY());return a<0?1:a>0?0:2}const s=t.getClosestCoordinate(e,!1),o=t.getTangent(s),i=t.getCoord2D(s),u=y.orientationRobust(e,i,i.add(o));return u<0?1:u>0?0:2}function $o(t,e,n,r){(n>=0||r>=0)&&B("");const s=new E;t.queryEnvelope(s);const o=z(t,e,0);return o===0?0:o===1?1:2}function bo(t,e,n,r){(n<0&&r>=0||n>=0&&r<0)&&B("");const s=t.querySegmentIterator();if(n<0){let i=Number.MAX_VALUE,u=0;for(;s.nextPath();)for(;s.hasNextSegment();){const a=s.nextSegment(),c=a.getClosestCoordinate(e,!1),l=a.getCoord2D(c),m=y.sqrDistance(l,e);m<i?(u=1,n=s.getStartPointIndex(),r=s.getPathIndex(),i=m):m===i&&u++}if(u===0)return 3;if(u===1)return s.resetToVertex(n,r),ye(s.nextSegment(),e)}const o=So(e,s,n,r);if(o.i1!==-1&&o.i2===-1)return o.bRight1?1:0;if(o.i1!==-1&&o.i2!==-1){if(o.bRight1===o.bRight2)return o.bRight1?1:0;{s.resetToVertex(o.i1,-1);const i=s.nextSegment().getTangent(1);s.resetToVertex(o.i2,-1);const u=s.nextSegment().getTangent(0);return i.crossProduct(u)>=0?1:0}}return s.resetToVertex(n,r),ye(s.nextSegment(),e)}function Po(t,e,n){for(t.resetToVertex(e,n);t.hasNextSegment();)if(!t.nextSegment().isDegenerate(0))return t.getStartPointIndex();for(t.resetToVertex(e,n);t.hasPreviousSegment();)if(!t.previousSegment().isDegenerate(0))return t.getStartPointIndex();return-1}function No(t,e){for(t.resetToVertex(e,-1),t.nextSegment();t.hasNextSegment();)if(!t.nextSegment().isDegenerate(0))return t.getStartPointIndex();return-1}function Do(t,e){for(t.resetToVertex(e,-1);t.hasPreviousSegment();)if(!t.previousSegment().isDegenerate(0))return t.getStartPointIndex();return-1}function So(t,e,n,r){const s={i1:-1,i2:-1,bRight1:!1,bRight2:!1};if(s.i1=Po(e,n,r),s.i1!==-1){e.resetToVertex(s.i1,-1);const o=e.nextSegment(),i=o.getClosestCoordinate(t,!1),u=o.getCoord2D(i),a=y.sqrDistance(u,t);{const c=u.clone();c.subThis(o.getStartXY());const l=t.clone();l.subThis(o.getStartXY()),s.bRight1=c.crossProduct(l)<0}if(s.i2=No(e,s.i1),s.i2!==-1){e.resetToVertex(s.i2,-1);const c=e.nextSegment(),l=c.getClosestCoordinate(t,!1),m=c.getCoord2D(l);if(y.sqrDistance(m,t)>a)s.i2=-1;else{const g=m.clone();g.subThis(c.getStartXY());const f=t.clone();f.subThis(c.getStartXY()),s.bRight2=g.crossProduct(f)<0}}if(s.i2===-1&&(s.i2=Do(e,s.i1),s.i2!==-1)){e.resetToVertex(s.i2,-1);const c=e.nextSegment(),l=c.getClosestCoordinate(t,!1),m=c.getCoord2D(l);if(y.sqrDistance(m,t)>a)s.i2=-1;else{const g=m.clone();g.subThis(c.getStartXY());const f=t.clone();f.subThis(c.getStartXY()),s.bRight2=g.crossProduct(f)<0;const _=s.i1;s.i1=s.i2,s.i2=_;const d=s.bRight1;s.bRight1=s.bRight2,s.bRight2=d}}}return s}let Z=class{getOperatorType(){return 10500}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}getNearestCoordinate(e,n,r,s){if(n.isNAN()&&B("NAN xy coordinates are not allowed"),e.isEmpty())return gt();switch(e.getGeometryType()){case h.enumPoint:return this.pointGetNearestVertex(e,n);case h.enumMultiPoint:return this.multiVertexGetNearestVertex(e,n);case h.enumPolyline:case h.enumPolygon:return this.multiPathGetNearestCoordinate(e,n,r,s);default:Se("")}}getNearestVertex(e,n){if(n.isNAN()&&B("NAN xy coordinates are not allowed"),e.isEmpty())return gt();switch(e.getGeometryType()){case h.enumPoint:return this.pointGetNearestVertex(e,n);case h.enumMultiPoint:case h.enumPolyline:case h.enumPolygon:return this.multiVertexGetNearestVertex(e,n);default:Se("")}}getNearestVertices(e,n,r,s){if(s===0&&B(""),n.isNAN()&&B("NAN xy coordinates are not allowed"),e.isEmpty())return[];switch(e.getGeometryType()){case h.enumPoint:return this.pointGetNearestVertices(e,n,r,s);case h.enumMultiPoint:case h.enumPolyline:case h.enumPolygon:return this.multiVertexGetNearestVertices(e,n,r,s);default:Se("")}}multiPathGetNearestCoordinate(e,n,r,s){if(e.getGeometryType()===h.enumPolygon&&r){const g=new E;e.queryEnvelope(g);const f=hn(null,g,!1);let _;if(_=z(e,n,s?0:f),_!==0){const d=W(n,-1,0);return s&&(d.m_bRightSide=!0),d}}const o=e.querySegmentIterator(),i=new y;let u=-1,a=-1,c=Number.MAX_VALUE,l=0;for(;o.nextPath();)for(;o.hasNextSegment();){const g=o.nextSegment(),f=g.getClosestCoordinate(n,!1),_=g.getCoord2D(f),d=y.sqrDistance(_,n);d<c?(l=1,i.assign(_),u=o.getStartPointIndex(),a=o.getPathIndex(),c=d):d===c&&l++}u===-1&&B("");const m=W(i,u,Math.sqrt(c));if(s)if(e.getGeometryType()!==h.enumPolygon){let g=!1;if(l>1){const f=ye(e,n,u,a);g=f!==0&&f!==3}else{o.resetToVertex(u,a);const f=o.nextSegment();g=ye(f,n)!==0}m.m_bRightSide=g}else r||z(e,n,0)!==0&&(m.m_bRightSide=!0);return m}pointGetNearestVertex(e,n){const r=e.getXY(),s=y.distance(r,n);return W(r,0,s)}multiVertexGetNearestVertex(e,n){const r=e.getAttributeStreamRef(0),s=e.getPointCount();let o=-1;const i=new y;let u=Number.MAX_VALUE;const a=new y;for(let c=0;c<s;c++){r.queryPoint2D(2*c,a);const l=y.sqrDistance(a,n);l<u&&(i.assign(a),o=c,u=l)}return W(i,o,Math.sqrt(u))}pointGetNearestVertices(e,n,r,s){const o=[];if(s!==0){const i=r*r,u=e.getXY(),a=y.sqrDistance(u,n);a<=i&&o.push(W(u,0,Math.sqrt(a)))}return o}multiVertexGetNearestVertices(e,n,r,s){const o=[];if(s!==0){const i=e.getAttributeStreamRef(0),u=e.getPointCount();o.length=s+1;const a=r*r;for(let c=0;c<u;c++){const l=i.read(2*c),m=i.read(2*c+1),g=n.x-l,f=n.y-m,_=g*g+f*f;_<=a&&o.push(W(y.construct(l,m),c,Math.sqrt(_)))}o.sort((c,l)=>c.m_distance-l.m_distance)}return o.slice(0,s)}},Co=class{getOperatorType(){return 10203}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}supportsCurves(){return!0}executeMany(e,n){return new pt(e,n)}execute(e,n){return new pt(null,n).labelPoint(e)}},pt=class extends de{progress_(){}tock(){return!0}getRank(){return 1}constructor(e,n){super(),this.m_index=-1,this.m_progressCounter=0,this.m_progressTracker=n,this.m_inputGeoms=e}next(){const e=this.m_inputGeoms.next();return e?(J(e),this.m_index=this.m_inputGeoms.getGeometryID(),this.labelPoint(e)):null}getGeometryID(){return this.m_index}labelPoint(e){if(e===null&&B("null pointer is not allowed"),e.getGeometryType()===h.enumPoint)return e;if(e.isEmpty())return new j({vd:e.getDescription()});switch(e.getGeometryType()){case h.enumPolygon:return this.labelPointPolygon(e);case h.enumPolyline:return this.labelPointPolyline(e);case h.enumMultiPoint:return this.labelPointMultiPoint(e);case h.enumEnvelope:return this.labelPointEnvelope(e);default:B("geometry is not supported")}}labelPointPolygon(e){const n=new E;e.queryEnvelope(n);const r=Me(null,n,!0).total();let s=null,o=e;if(e.hasNonLinearSegments()){const $=new K({copy:e}),I=yn($,.25*r,r);le(I!==e),s=I,o=s}let i=0,u=0;for(let $=0,I=o.getPathCount();$<I;++$){const O=Math.abs(o.calculateRingArea2D($));O>u&&(u=O,i=$)}const a=new y;if(Math.abs(u)<=2*r*r?a.setNAN():a.assign(Sr(o,i)),Number.isNaN(a.x)){const $=new E;return o.queryPathEnvelope(i,$),new j({pt:$.getCenter()})}if(o.getPointCount()<4)return new j({x:a.x,y:a.y});const c=y.getNAN(),l=[c.clone(),c.clone(),c.clone(),c.clone()],m=[Number.NaN,Number.NaN,Number.NaN,Number.NaN],g=[Number.NaN,Number.NaN,Number.NaN,Number.NaN];let f=!1,_=new Z().getNearestCoordinate(o,a,!0,!1);if(_.m_distance===0&&(f=!0,l[0]=a,_=new Z().getNearestCoordinate(o,a,!1,!1),_.m_distance>.25*n.minDimension()*1.66666666))return new j({x:a.x,y:a.y});m[0]=_.m_distance,g[0]=0;const d=new y;let P=!1,b=.25,x=-1;const D=new E;o.queryPathEnvelope(i,D);do{let $=Number.NaN;if(l[1]=this.calculateParacentroid_(o,Ce(D.xmin,D.xmax,b),r),l[1].isNAN()||(_=new Z().getNearestCoordinate(o,l[1],!1,!1),$=_.m_distance),$>r&&z(o,l[1],r)===1)P=!0,m[1]=$,g[1]=y.sqrDistance(l[1],a);else if($>x&&(x=$,d.setCoordsPoint2D(l[1])),b-=.01,b<.1){if(!(x>=0))break;P=!0,m[1]=x,l[1]=d,g[1]=y.sqrDistance(l[1],a)}}while(!P);P=!1,b=.5,x=-1;let S=.01,M=1;do{let $=Number.NaN;if(l[2]=this.calculateParacentroid_(o,Ce(D.xmin,D.xmax,b),r),l[2].isNAN()||(_=new Z().getNearestCoordinate(o,l[2],!1,!1),$=_.m_distance),$>r&&z(o,l[2],r)===1)P=!0,m[2]=$,g[2]=y.sqrDistance(l[2],a);else if($>x&&(x=$,d.setCoordsPoint2D(l[2])),b=.5+S*M,S+=.01,M*=-1,b<.3||b>.7){if(!(x>=0))break;P=!0,m[2]=x,l[2]=d,g[2]=y.sqrDistance(l[2],a)}}while(!P);P=!1,b=.75,x=-1;do{let $=Number.NaN;if(l[3]=this.calculateParacentroid_(o,Ce(D.xmin,D.xmax,b),r),l[3].isNAN()||(_=new Z().getNearestCoordinate(o,l[3],!1,!1),$=_.m_distance),$>r&&z(o,l[3],r)===1)P=!0,m[3]=$,g[3]=y.sqrDistance(l[3],a);else if($>x&&(x=$,d.setCoordsPoint2D(l[3])),b+=.01,b>.9){if(!(x>=0))break;P=!0,m[3]=x,l[3]=d,g[3]=y.sqrDistance(l[3],a)}}while(!P);const C=[0,1,2,3],G=f?0:1;for(let $=G;$<4;$++)for(let I=G;I<3;I++){const O=g[I],nt=g[I+1];if(dn(O,nt)>0){const Ht=C[I];C[I]=C[I+1],C[I+1]=Ht,g[I]=nt,g[I+1]=O}}let q=G,Y=0,X=0;for(let $=G;$<4;$++){switch($){case 0:X=2*m[C[$]];break;case 1:X=1.66666666*m[C[$]];break;case 2:X=1.33333333*m[C[$]];break;case 3:X=m[C[$]]}X>Y&&(Y=X,q=C[$])}return le(!l[q].isNAN()),new j({x:l[q].x,y:l[q].y})}labelPointPolyline(e){const n=new y;if(e.getPointCount()>2*e.getPathCount()){let r=-1,s=-Number.MAX_VALUE;for(let a=0,c=e.getPathCount();a<c;a++)if(e.getPathSize(a)>2){const l=e.calculatePathLength2D(a);l>s&&(s=l,r=a)}const o=e.getPathStart(r),i=e.getPathEnd(r),u=Math.trunc((o+i)/2);n.assign(e.getXY(u))}else{let r=-Number.MAX_VALUE;const s=e.querySegmentIterator();for(;s.nextPath();)if(s.hasNextSegment()){const o=s.nextSegment(),i=o.calculateLength2D();i>r&&(r=i,n.assign(o.getCoord2D(o.lengthToT(.5*i))))}}return new j({x:n.x,y:n.y})}labelPointMultiPoint(e){const n=new E;e.queryEnvelope(n);const r=n.getCenter(),s=new Z().getNearestCoordinate(e,r,!1,!1).m_coordinate;return new j({x:s.x,y:s.y})}labelPointEnvelope(e){const n=e.getCenterXY();return new j({x:n.x,y:n.y})}calculateParacentroid_(e,n,r){const s=new E;e.queryEnvelope(s);const o=new y(n,0);let i=Number.MAX_VALUE,u=Number.MAX_VALUE,a=!1,c=!1;const l=new _n;l.setStartXYCoords(o.x,s.ymin-1),l.setEndXYCoords(o.x,s.ymax+1);const m=new E,g=new y,f=new y,_=xn(y,2),d=e.querySegmentIterator();for(;d.nextPath();)for(;d.hasNextSegment();){const P=d.nextSegment();if(P.queryEnvelope(m),le(P.isMonotoneQuickAndDirty()),g.setCoordsPoint2D(l.getStartXY()),f.setCoordsPoint2D(l.getEndXY()),m.clipLine(g,f)===0||l.intersect(P,_,null,null,r)!==1)continue;const b=_[0].y;i>u?b<i&&(i=b,a=!0):b<u&&(u=b,c=!0)}return a&&c?o.y=(i+u)/2:o.setNAN(),o}};const Ze=new Co;function wo(t){return Ze.execute(t,null)}function Eo(t){const e=Ze.executeMany(new V(t),null);return Array.from(e)}function Mo(){return Ze.supportsCurves()}function To(t){return _e(wo(p(t)),v(t))}function Io(t){const e=t.map(p),n=v(t);return Eo(e).map(r=>_e(r,n))}const Go=Mo(),Ao=Object.freeze(Object.defineProperty({__proto__:null,execute:To,executeMany:Io,supportsCurves:Go},Symbol.toStringTag,{value:"Module"}));function qo(t,e={}){const{unit:n}=e;let r=p(t).calculateLength2D();if(r&&n){const s=v(t);r=te(r,s,n)}return r}const Oo=!0,jo=Object.freeze(Object.defineProperty({__proto__:null,execute:qo,supportsCurves:Oo},Symbol.toStringTag,{value:"Module"})),Zt={round:0,bevel:1,miter:2,square:3};function Ro(t,e,n={}){const{miterLimit:r=10,flattenError:s=0,joins:o="round",unit:i}=n,u=v(t);return i&&(e=R(e,i,u)),w(Jn(p(t),N(u),e,Zt[o],r,s),u)}function Vo(t,e,n={}){const{miterLimit:r=10,flattenError:s=0,joins:o="round",unit:i}=n,u=v(t);i&&(e=R(e,i,u));const a=t.map(p);return Kn(a,N(u),e,Zt[o],r,s).map(c=>w(c,u)).filter(F)}const Yo=Hn(),Xo=Object.freeze(Object.defineProperty({__proto__:null,execute:Ro,executeMany:Vo,supportsCurves:Yo},Symbol.toStringTag,{value:"Module"})),He=new er;function Bo(t){const e=v(t);return He.accelerateGeometry(p(t),N(e),1)}function zo(t,e){return He.execute(p(t),p(e),N(t.spatialReference),null)}const ko=He.supportsCurves(),Lo=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Bo,execute:zo,supportsCurves:ko},Symbol.toStringTag,{value:"Module"}));function Ke(t,e,n=!1){const r=_e(t.m_coordinate,v(e)),s=t.m_distance,o=t.isEmpty(),i=t.m_bRightSide;return{coordinate:r,distance:s,isEmpty:o,...n&&{isRightSide:i},vertexIndex:t.m_vertexIndex}}const Pe=new Z;function Fo(t,e,n={}){const{calculateLeftRightSide:r=!1,testPolygonInterior:s=!0,unit:o}=n,i=Pe.getNearestCoordinate(p(t),Te(e).getXY(),s,r);if(o&&i.m_distance){const u=v(t);i.m_distance=te(i.m_distance,u,o)}return Ke(i,t,r)}function Uo(t,e,n={}){const{unit:r}=n,s=Pe.getNearestVertex(p(t),Te(e).getXY());if(r&&s.m_distance){const o=v(t);s.m_distance=te(s.m_distance,o,r)}return Ke(s,t)}function Qo(t,e,n,r,s={}){const{unit:o}=s,i=v(t);return o&&n&&(n=R(n,o,i)),Pe.getNearestVertices(p(t),Te(e).getXY(),n,r).map(u=>(o&&u.m_distance&&(u.m_distance=te(u.m_distance,i,o)),Ke(u,t)))}const Wo=Pe.supportsCurves(),Zo=Object.freeze(Object.defineProperty({__proto__:null,getNearestCoordinate:Fo,getNearestVertex:Uo,getNearestVertices:Qo,supportsCurves:Wo},Symbol.toStringTag,{value:"Module"}));let Ho=class{supportsCurves(){return!0}getOperatorType(){return 1}execute(e,n,r,s,o){return vn(e,n,r,s,o)}isValidDE9IM(e){return $n(e)===0}accelerateGeometry(e,n,r){return bn(e,n,r)}canAccelerateGeometry(e){return Pn(e)}};const Ne=new Ho;function Ko(t){const e=v(t);return Ne.accelerateGeometry(p(t),N(e),1)}function Jo(t,e,n){return Ne.execute(p(t),p(e),N(t.spatialReference),n,null)}function ei(t){return Ne.isValidDE9IM(t)}const ti=Ne.supportsCurves(),ni=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Ko,execute:Jo,isValidDE9IM:ei,supportsCurves:ti},Symbol.toStringTag,{value:"Module"}));function ri(t){const e=v(t);return w(sr(p(t),N(e),!1),e)}function si(t){const e=t.map(p),n=v(t);return rr(e,N(n),!1).map(r=>w(r,n))}function oi(t){return nr(p(t),N(v(t)),!1)}const ii=tr(),ui=Object.freeze(Object.defineProperty({__proto__:null,execute:ri,executeMany:si,isSimple:oi,supportsCurves:ii},Symbol.toStringTag,{value:"Module"}));class ai{getOperatorType(){return 10003}supportsCurves(){return!0}accelerateGeometry(e,n,r){return!1}canAccelerateGeometry(e){return!1}executeMany(e,n,r,s){return new mi(e,n,r,s)}execute(e,n,r,s){const o=new V([e]),i=new V([n]),u=this.executeMany(o,i,r,s).next();return u||he("null output"),u}}function ci(t,e,n,r){const s=t.getDimension(),o=e.getDimension();if(s!==o)return s>o?t:e;if(t.isEmpty())return e;if(e.isEmpty())return t;const i=new E,u=new E,a=new E;t.queryEnvelope(i),e.queryEnvelope(u),a.setCoords({env2D:i}),a.mergeEnvelope2D(u);const c=Me(n,a,!0),l=t.getGeometryType(),m=e.getGeometryType();return l===h.enumPoint&&m===h.enumPoint?li(t,e,c):l===h.enumPoint&&m===h.enumMultiPoint?ht(e,t,c):l===h.enumMultiPoint&&m===h.enumPoint?ht(t,e,c):Nn(t,e,n,r)}function li(t,e,n,r){const s=$t(n),o=s*s,i=t.getXY(),u=e.getXY(),a=new Dn({vd:t.getDescription()});return y.sqrDistance(i,u)>o&&(a.add(t),a.add(e)),a}function ht(t,e,n,r){const s=t.getImpl().getAttributeStreamRef(0),o=t.getPointCount(),i=e.getXY(),u=t.createInstance(),a=$t(n),c=new E;if(t.queryEnvelope(c),c.inflateCoords(a,a),c.contains(i)){const l=a*a;let m=!1;const g=vt(o,!1);for(let f=0;f<o;f++){const _=s.read(2*f),d=s.read(2*f+1),P=_-i.x,b=d-i.y;P*P+b*b<=l&&(m=!0,g[f]=!0)}if(m)for(let f=0;f<o;f++)g[f]||u.addPoints(t,f,f+1);else u.addPoints(t,0,o),u.add(e)}else u.addPoints(t,0,o),u.add(e);return u}class mi extends de{constructor(e,n,r,s){super(),this.m_progressTracker=s,this.m_index=-1,this.m_inputGeoms=e,this.m_spatialReference=r,this.m_rightGeom=n.next(),this.m_bEmpty=!this.m_rightGeom,J(this.m_rightGeom)}tock(){return!0}getRank(){return 1}next(){if(this.m_bEmpty)return null;const e=this.m_inputGeoms.next();return e?(J(e),this.m_index=this.m_inputGeoms.getGeometryID(),ci(e,this.m_rightGeom,this.m_spatialReference,this.m_progressTracker)):null}getGeometryID(){return this.m_index}}const Je=new ai;function fi(t,e,n){return Je.execute(t,e,n,null)}function gi(t,e,n){const r=Je.executeMany(new V(t),new V([e]),n,null);return Array.from(r)}function pi(){return Je.supportsCurves()}function hi(t,e){const n=v(t);return w(fi(p(t),p(e),N(n)),n)}function yi(t,e){const n=t.map(p),r=v(t);return gi(n,p(e),N(r)).map(s=>w(s,r)).filter(F)}const di=pi(),_i=Object.freeze(Object.defineProperty({__proto__:null,execute:hi,executeMany:yi,supportsCurves:di},Symbol.toStringTag,{value:"Module"})),et=new or;function xi(t){const e=v(t);return et.accelerateGeometry(p(t),N(e),1)}function vi(t,e){return et.execute(p(t),p(e),N(t.spatialReference),null)}const $i=et.supportsCurves(),bi=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:xi,execute:vi,supportsCurves:$i},Symbol.toStringTag,{value:"Module"}));function Pi(t,e){const n=v(t);return w(ar(p(t),p(e),N(n)),n)}function Ni(t){const e=t.map(p),n=v(t);return w(ur(e,N(n)),n)}const Di=ir(),Si=Object.freeze(Object.defineProperty({__proto__:null,execute:Pi,executeMany:Ni,supportsCurves:Di},Symbol.toStringTag,{value:"Module"})),tt=new cr;function Ci(t){const e=v(t);return tt.accelerateGeometry(p(t),N(e),1)}function wi(t,e){return tt.execute(p(t),p(e),N(t.spatialReference),null)}const Ei=tt.supportsCurves(),Mi=Object.freeze(Object.defineProperty({__proto__:null,accelerateGeometry:Ci,execute:wi,supportsCurves:Ei},Symbol.toStringTag,{value:"Module"}));function Ti(t,e,n,r){const s=new Nt().rotate(e,n,r);return Dt(t,s)}async function Ii(){await Promise.all([Yt(),At(),zt(),Wt()])}const fu=Object.freeze(Object.defineProperty({__proto__:null,area:vr,buffer:Nr,centroid:Ar,clip:Xr,contains:Lr,convexHull:Zr,crosses:es,cut:cs,densify:ys,difference:Ps,disjoint:Cs,distance:As,equals:Vs,generalize:Fs,geodesicBuffer:Ws,geodeticArea:eo,geodeticDensify:ro,geodeticLength:ao,intersection:go,intersects:_o,labelPoint:Ao,length:jo,loadAll:Ii,offset:Xo,overlaps:Lo,proximity:Zo,relate:ni,rotate:Ti,simplify:ui,symmetricDifference:_i,touches:bi,union:Si,within:Mi},Symbol.toStringTag,{value:"Module"}));export{Rt as A,to as B,no as C,Bt as D,zt as E,Xt as F,uo as G,Qt as H,Wt as I,Ut as J,To as K,Io as L,Go as M,Fo as N,Uo as O,Qo as P,Wo as Q,Ko as R,Jo as S,ei as T,ti as U,hi as V,yi as W,di as X,Ki as Y,tu as Z,fu as _,Ir as a,Vr as b,Gr as c,us as d,as as e,ps as f,hs as g,vs as h,$s as i,bs as j,Is as k,Gs as l,Yr as m,_r as n,Os as o,gs as p,js as q,Rs as r,xr as s,zs as t,Rr as u,ks as v,Ls as w,Js as x,Vt as y,Yt as z};
