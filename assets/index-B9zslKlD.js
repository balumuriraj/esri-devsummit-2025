import{e as Ct,L as xt,u as he,i as Te,d as F,x as T,S as _t,fz as Yt,f as pi,s as Bt,c as ce,r as Ut,b as Wt,p as jt,n as qt,w as gi,k$ as mi,a3 as vi,H as $t}from"./index-szNj1aqA.js";import"./customElement-D4s9jwHT.js";import{y as nt}from"./filter-CYJLG1JG.js";import{d as Kt}from"./debounce-D0G5qrda.js";import{i as Ce,c as at,h as bi,o as mt,d as rt,a as Ei}from"./utils-CVHSYAYo.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const ue={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},me={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"};/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const yi=Ct`:host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, .75rem);padding-block:var(--calcite-stack-padding-block, .5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}`,Je=class Je extends xt{constructor(){super(...arguments),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.hasContentEnd=!1,this.hasContentStart=!1,this.disabled=!1}handleActionsStartSlotChange(e){this.hasActionsStart=he(e)}handleActionsEndSlotChange(e){this.hasActionsEnd=he(e)}handleContentStartSlotChange(e){this.hasContentStart=he(e)}handleContentEndSlotChange(e){this.hasContentEnd=he(e)}renderActionsStart(){const{hasActionsStart:e}=this;return Te("actions-start-container",T`<div class=${F(ue.actionsStart)} .hidden=${!e}><slot name=${me.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`)}renderActionsEnd(){const{hasActionsEnd:e}=this;return Te("actions-end-container",T`<div class=${F(ue.actionsEnd)} .hidden=${!e}><slot name=${me.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>`)}renderContentStart(){const{hasContentStart:e}=this;return T`<div class=${F(ue.contentStart)} .hidden=${!e}><slot name=${me.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`}renderDefaultContent(){return T`<div class=${F(ue.content)}><slot></slot></div>`}renderContentEnd(){const{hasContentEnd:e}=this;return T`<div class=${F(ue.contentEnd)} .hidden=${!e}><slot name=${me.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`}render(){return T`<div class=${F(ue.container)}>${this.renderActionsStart()}${this.renderContentStart()}${this.renderDefaultContent()}${this.renderContentEnd()}${this.renderActionsEnd()}</div>`}};Je.properties={hasActionsEnd:16,hasActionsStart:16,hasContentEnd:16,hasContentStart:16,disabled:7},Je.styles=yi;let vt=Je;_t("calcite-stack",vt);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const wi={container:"container"},Si={search:"search"},Ii=Ct`:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%}:host([scale=s]) .container{padding:var(--calcite-spacing-sm)}:host([scale=m]) .container{padding:var(--calcite-spacing-md)}:host([scale=l]) .container{padding:var(--calcite-spacing-lg)}label{position:relative;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing),box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing),inset-inline-end var(--calcite-animation-timing),opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:.25rem}input[type=text]:focus~.search-icon{inset-inline-start:-1rem;opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}`,Me=class Me extends xt{constructor(){super(...arguments),this.filterDebounced=Kt((e,t=!1,i)=>this.updateFiltered(nt(this.items??[],e,this.filterProps),t,i),Yt.filter),this.textInput=pi(),this._value="",this.disabled=!1,this.filteredItems=[],this.items=[],this.messages=Bt(),this.scale="m",this.calciteFilterChange=ce({cancelable:!1})}get value(){return this._value}set value(e){const t=this._value;e!==t&&(this._value=e,this.valueHandler(e))}async filter(e=this.value){return new Promise(t=>{this.value=e,this.updateFiltered(nt(this.items??[],e,this.filterProps),!1,t)})}async setFocus(){var e;return await Ut(this),(e=this.textInput.value)==null?void 0:e.setFocus()}async load(){this.updateFiltered(nt(this.items??[],this.value,this.filterProps))}willUpdate(e){var t;(e.has("items")&&(this.hasUpdated||((t=this.items)==null?void 0:t.length)>0)||e.has("filterProps"))&&this.filterDebounced(this.value)}updated(){Wt(this)}loaded(){}disconnectedCallback(){super.disconnectedCallback(),this.filterDebounced.cancel()}valueHandler(e){this.filterDebounced(e)}inputHandler(e){const t=e.target;this.value=t.value,this.filterDebounced(t.value,!0)}keyDownHandler(e){e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())}clear(){this.value="",this.filterDebounced("",!0),this.setFocus()}updateFiltered(e,t=!1,i){this.filteredItems=e,t&&this.calciteFilterChange.emit(),i==null||i()}render(){const{disabled:e,scale:t}=this;return jt({disabled:e,children:T`<div class=${F(wi.container)}><label><calcite-input clearable .disabled=${e} .icon=${Si.search} .label=${this.label??this.messages.label} .messageOverrides=${{clear:this.messages.clear}} @keydown=${this.keyDownHandler} @calciteInputInput=${this.inputHandler} .placeholder=${this.placeholder} .scale=${t} type=text .value=${this.value} ${qt(this.textInput)}></calcite-input></label></div>`})}};Me.properties={disabled:7,filterProps:0,filteredItems:0,items:0,label:1,messageOverrides:0,placeholder:1,scale:3,value:1},Me.shadowRootOptions={mode:"open",delegatesFocus:!0},Me.styles=Ii;let bt=Me;_t("calcite-filter",bt);/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Lt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),t.push.apply(t,i)}return t}function W(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Lt(Object(t),!0).forEach(function(i){Di(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Lt(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Ye(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ye=function(e){return typeof e}:Ye=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ye(n)}function Di(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function V(){return V=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},V.apply(this,arguments)}function Ci(n,e){if(n==null)return{};var t={},i=Object.keys(n),a,r;for(r=0;r<i.length;r++)a=i[r],!(e.indexOf(a)>=0)&&(t[a]=n[a]);return t}function xi(n,e){if(n==null)return{};var t=Ci(n,e),i,a;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}var _i="1.15.6";function K(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Z=K(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ke=K(/Edge/i),Mt=K(/firefox/i),Pe=K(/safari/i)&&!K(/chrome/i)&&!K(/android/i),At=K(/iP(ad|od|hone)/i),Vt=K(/chrome/i)&&K(/android/i),Zt={capture:!1,passive:!1};function b(n,e,t){n.addEventListener(e,t,!Z&&Zt)}function v(n,e,t){n.removeEventListener(e,t,!Z&&Zt)}function qe(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Qt(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Y(n,e,t,i){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&qe(n,e):qe(n,e))||i&&n===t)return n;if(n===t)break}while(n=Qt(n))}return null}var kt=/\s+/g;function N(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(kt," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(kt," ")}}function f(n,e,t){var i=n&&n.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function be(n,e){var t="";if(typeof n=="string")t=n;else do{var i=f(n,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(t)}function Jt(n,e,t){if(n){var i=n.getElementsByTagName(e),a=0,r=i.length;if(t)for(;a<r;a++)t(i[a],a);return i}return[]}function U(){var n=document.scrollingElement;return n||document.documentElement}function x(n,e,t,i,a){if(!(!n.getBoundingClientRect&&n!==window)){var r,o,l,s,c,u,h;if(n!==window&&n.parentNode&&n!==U()?(r=n.getBoundingClientRect(),o=r.top,l=r.left,s=r.bottom,c=r.right,u=r.height,h=r.width):(o=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,h=window.innerWidth),(e||t)&&n!==window&&(a=a||n.parentNode,!Z))do if(a&&a.getBoundingClientRect&&(f(a,"transform")!=="none"||t&&f(a,"position")!=="static")){var m=a.getBoundingClientRect();o-=m.top+parseInt(f(a,"border-top-width")),l-=m.left+parseInt(f(a,"border-left-width")),s=o+r.height,c=l+r.width;break}while(a=a.parentNode);if(i&&n!==window){var w=be(a||n),E=w&&w.a,y=w&&w.d;w&&(o/=y,l/=E,h/=E,u/=y,s=o+u,c=l+h)}return{top:o,left:l,bottom:s,right:c,width:h,height:u}}}function Nt(n,e,t){for(var i=ne(n,!0),a=x(n)[e];i;){var r=x(i)[t],o=void 0;if(o=a>=r,!o)return i;if(i===U())break;i=ne(i,!1)}return!1}function Ee(n,e,t,i){for(var a=0,r=0,o=n.children;r<o.length;){if(o[r].style.display!=="none"&&o[r]!==p.ghost&&(i||o[r]!==p.dragged)&&Y(o[r],t.draggable,n,!1)){if(a===e)return o[r];a++}r++}return null}function Tt(n,e){for(var t=n.lastElementChild;t&&(t===p.ghost||f(t,"display")==="none"||e&&!qe(t,e));)t=t.previousElementSibling;return t||null}function H(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==p.clone&&(!e||qe(n,e))&&t++;return t}function Rt(n){var e=0,t=0,i=U();if(n)do{var a=be(n),r=a.a,o=a.d;e+=n.scrollLeft*r,t+=n.scrollTop*o}while(n!==i&&(n=n.parentNode));return[e,t]}function Ai(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t)}return-1}function ne(n,e){if(!n||!n.getBoundingClientRect)return U();var t=n,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var a=f(t);if(t.clientWidth<t.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return U();if(i||e)return t;i=!0}}while(t=t.parentNode);return U()}function Ti(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function ot(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Oe;function ei(n,e){return function(){if(!Oe){var t=arguments,i=this;t.length===1?n.call(i,t[0]):n.apply(i,t),Oe=setTimeout(function(){Oe=void 0},e)}}}function Pi(){clearTimeout(Oe),Oe=void 0}function ti(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function ii(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function ni(n,e,t){var i={};return Array.from(n.children).forEach(function(a){var r,o,l,s;if(!(!Y(a,e.draggable,n,!1)||a.animated||a===t)){var c=x(a);i.left=Math.min((r=i.left)!==null&&r!==void 0?r:1/0,c.left),i.top=Math.min((o=i.top)!==null&&o!==void 0?o:1/0,c.top),i.right=Math.max((l=i.right)!==null&&l!==void 0?l:-1/0,c.right),i.bottom=Math.max((s=i.bottom)!==null&&s!==void 0?s:-1/0,c.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var L="Sortable"+new Date().getTime();function Oi(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(a){if(!(f(a,"display")==="none"||a===p.ghost)){n.push({target:a,rect:x(a)});var r=W({},n[n.length-1].rect);if(a.thisAnimationDuration){var o=be(a,!0);o&&(r.top-=o.f,r.left-=o.e)}a.fromRect=r}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Ai(n,{target:i}),1)},animateAll:function(i){var a=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var r=!1,o=0;n.forEach(function(l){var s=0,c=l.target,u=c.fromRect,h=x(c),m=c.prevFromRect,w=c.prevToRect,E=l.rect,y=be(c,!0);y&&(h.top-=y.f,h.left-=y.e),c.toRect=h,c.thisAnimationDuration&&ot(m,h)&&!ot(u,h)&&(E.top-h.top)/(E.left-h.left)===(u.top-h.top)/(u.left-h.left)&&(s=$i(E,m,w,a.options)),ot(h,u)||(c.prevFromRect=u,c.prevToRect=h,s||(s=a.options.animation),a.animate(c,E,h,s)),s&&(r=!0,o=Math.max(o,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},s),c.thisAnimationDuration=s)}),clearTimeout(e),r?e=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),n=[]},animate:function(i,a,r,o){if(o){f(i,"transition",""),f(i,"transform","");var l=be(this.el),s=l&&l.a,c=l&&l.d,u=(a.left-r.left)/(s||1),h=(a.top-r.top)/(c||1);i.animatingX=!!u,i.animatingY=!!h,f(i,"transform","translate3d("+u+"px,"+h+"px,0)"),this.forRepaintDummy=Fi(i),f(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),f(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){f(i,"transition",""),f(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function Fi(n){return n.offsetWidth}function $i(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var fe=[],lt={initializeByDefault:!0},Ne={mount:function(e){for(var t in lt)lt.hasOwnProperty(t)&&!(t in e)&&(e[t]=lt[t]);fe.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),fe.push(e)},pluginEvent:function(e,t,i){var a=this;this.eventCanceled=!1,i.cancel=function(){a.eventCanceled=!0};var r=e+"Global";fe.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][r]&&t[o.pluginName][r](W({sortable:t},i)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](W({sortable:t},i)))})},initializePlugins:function(e,t,i,a){fe.forEach(function(l){var s=l.pluginName;if(!(!e.options[s]&&!l.initializeByDefault)){var c=new l(e,t,e.options);c.sortable=e,c.options=e.options,e[s]=c,V(i,c.defaults)}});for(var r in e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);typeof o<"u"&&(e.options[r]=o)}},getEventProperties:function(e,t){var i={};return fe.forEach(function(a){typeof a.eventProperties=="function"&&V(i,a.eventProperties.call(t[a.pluginName],e))}),i},modifyOption:function(e,t,i){var a;return fe.forEach(function(r){e[r.pluginName]&&r.optionListeners&&typeof r.optionListeners[t]=="function"&&(a=r.optionListeners[t].call(e[r.pluginName],i))}),a}};function Li(n){var e=n.sortable,t=n.rootEl,i=n.name,a=n.targetEl,r=n.cloneEl,o=n.toEl,l=n.fromEl,s=n.oldIndex,c=n.newIndex,u=n.oldDraggableIndex,h=n.newDraggableIndex,m=n.originalEvent,w=n.putSortable,E=n.extraEventProperties;if(e=e||t&&t[L],!!e){var y,z=e.options,j="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Z&&!ke?y=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(y=document.createEvent("Event"),y.initEvent(i,!0,!0)),y.to=o||t,y.from=l||t,y.item=a||t,y.clone=r,y.oldIndex=s,y.newIndex=c,y.oldDraggableIndex=u,y.newDraggableIndex=h,y.originalEvent=m,y.pullMode=w?w.lastPutMode:void 0;var P=W(W({},E),Ne.getEventProperties(i,e));for(var G in P)y[G]=P[G];t&&t.dispatchEvent(y),z[j]&&z[j].call(e,y)}}var Mi=["evt"],$=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=i.evt,r=xi(i,Mi);Ne.pluginEvent.bind(p)(e,t,W({dragEl:d,parentEl:D,ghostEl:g,rootEl:S,nextEl:de,lastDownEl:Be,cloneEl:I,cloneHidden:ie,dragStarted:xe,putSortable:_,activeSortable:p.active,originalEvent:a,oldIndex:ve,oldDraggableIndex:Fe,newIndex:R,newDraggableIndex:te,hideGhostForTarget:li,unhideGhostForTarget:si,cloneNowHidden:function(){ie=!0},cloneNowShown:function(){ie=!1},dispatchSortableEvent:function(l){O({sortable:t,name:l,originalEvent:a})}},r))};function O(n){Li(W({putSortable:_,cloneEl:I,targetEl:d,rootEl:S,oldIndex:ve,oldDraggableIndex:Fe,newIndex:R,newDraggableIndex:te},n))}var d,D,g,S,de,Be,I,ie,ve,R,Fe,te,He,_,ge=!1,Ke=!1,Ve=[],le,X,st,ct,Ht,zt,xe,pe,$e,Le=!1,ze=!1,Ue,A,dt=[],Et=!1,Ze=[],tt=typeof document<"u",Ge=At,Gt=ke||Z?"cssFloat":"float",ki=tt&&!Vt&&!At&&"draggable"in document.createElement("div"),ai=function(){if(tt){if(Z)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),ri=function(e,t){var i=f(e),a=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),r=Ee(e,0,t),o=Ee(e,1,t),l=r&&f(r),s=o&&f(o),c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+x(r).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+x(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&l.float&&l.float!=="none"){var h=l.float==="left"?"left":"right";return o&&(s.clear==="both"||s.clear===h)?"vertical":"horizontal"}return r&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||c>=a&&i[Gt]==="none"||o&&i[Gt]==="none"&&c+u>a)?"vertical":"horizontal"},Ni=function(e,t,i){var a=i?e.left:e.top,r=i?e.right:e.bottom,o=i?e.width:e.height,l=i?t.left:t.top,s=i?t.right:t.bottom,c=i?t.width:t.height;return a===l||r===s||a+o/2===l+c/2},Ri=function(e,t){var i;return Ve.some(function(a){var r=a[L].options.emptyInsertThreshold;if(!(!r||Tt(a))){var o=x(a),l=e>=o.left-r&&e<=o.right+r,s=t>=o.top-r&&t<=o.bottom+r;if(l&&s)return i=a}}),i},oi=function(e){function t(r,o){return function(l,s,c,u){var h=l.options.group.name&&s.options.group.name&&l.options.group.name===s.options.group.name;if(r==null&&(o||h))return!0;if(r==null||r===!1)return!1;if(o&&r==="clone")return r;if(typeof r=="function")return t(r(l,s,c,u),o)(l,s,c,u);var m=(o?l:s).options.group.name;return r===!0||typeof r=="string"&&r===m||r.join&&r.indexOf(m)>-1}}var i={},a=e.group;(!a||Ye(a)!="object")&&(a={name:a}),i.name=a.name,i.checkPull=t(a.pull,!0),i.checkPut=t(a.put),i.revertClone=a.revertClone,e.group=i},li=function(){!ai&&g&&f(g,"display","none")},si=function(){!ai&&g&&f(g,"display","")};tt&&!Vt&&document.addEventListener("click",function(n){if(Ke)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Ke=!1,!1},!0);var se=function(e){if(d){e=e.touches?e.touches[0]:e;var t=Ri(e.clientX,e.clientY);if(t){var i={};for(var a in e)e.hasOwnProperty(a)&&(i[a]=e[a]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[L]._onDragOver(i)}}},Hi=function(e){d&&d.parentNode[L]._isOutsideThisEl(e.target)};function p(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=V({},e),n[L]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return ri(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,l){o.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:p.supportPointer!==!1&&"PointerEvent"in window&&(!Pe||At),emptyInsertThreshold:5};Ne.initializePlugins(this,n,t);for(var i in t)!(i in e)&&(e[i]=t[i]);oi(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:ki,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?b(n,"pointerdown",this._onTapStart):(b(n,"mousedown",this._onTapStart),b(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(b(n,"dragover",this),b(n,"dragenter",this)),Ve.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),V(this,Oi())}p.prototype={constructor:p,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(pe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,d):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,a=this.options,r=a.preventOnFilter,o=e.type,l=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,s=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=a.filter;if(ji(i),!d&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||a.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Pe&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Y(s,a.draggable,i,!1),!(s&&s.animated)&&Be!==s)){if(ve=H(s),Fe=H(s,a.draggable),typeof u=="function"){if(u.call(this,e,s,this)){O({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:i,fromEl:i}),$("filter",t,{evt:e}),r&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(h){if(h=Y(c,h.trim(),i,!1),h)return O({sortable:t,rootEl:h,name:"filter",targetEl:s,fromEl:i,toEl:i}),$("filter",t,{evt:e}),!0}),u)){r&&e.preventDefault();return}a.handle&&!Y(c,a.handle,i,!1)||this._prepareDragStart(e,l,s)}}},_prepareDragStart:function(e,t,i){var a=this,r=a.el,o=a.options,l=r.ownerDocument,s;if(i&&!d&&i.parentNode===r){var c=x(i);if(S=r,d=i,D=d.parentNode,de=d.nextSibling,Be=i,He=o.group,p.dragged=d,le={target:d,clientX:(t||e).clientX,clientY:(t||e).clientY},Ht=le.clientX-c.left,zt=le.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,d.style["will-change"]="all",s=function(){if($("delayEnded",a,{evt:e}),p.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Mt&&a.nativeDraggable&&(d.draggable=!0),a._triggerDragStart(e,t),O({sortable:a,name:"choose",originalEvent:e}),N(d,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){Jt(d,u.trim(),ht)}),b(l,"dragover",se),b(l,"mousemove",se),b(l,"touchmove",se),o.supportPointer?(b(l,"pointerup",a._onDrop),!this.nativeDraggable&&b(l,"pointercancel",a._onDrop)):(b(l,"mouseup",a._onDrop),b(l,"touchend",a._onDrop),b(l,"touchcancel",a._onDrop)),Mt&&this.nativeDraggable&&(this.options.touchStartThreshold=4,d.draggable=!0),$("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ke||Z))){if(p.eventCanceled){this._onDrop();return}o.supportPointer?(b(l,"pointerup",a._disableDelayedDrag),b(l,"pointercancel",a._disableDelayedDrag)):(b(l,"mouseup",a._disableDelayedDrag),b(l,"touchend",a._disableDelayedDrag),b(l,"touchcancel",a._disableDelayedDrag)),b(l,"mousemove",a._delayedDragTouchMoveHandler),b(l,"touchmove",a._delayedDragTouchMoveHandler),o.supportPointer&&b(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(s,o.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){d&&ht(d),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._disableDelayedDrag),v(e,"touchend",this._disableDelayedDrag),v(e,"touchcancel",this._disableDelayedDrag),v(e,"pointerup",this._disableDelayedDrag),v(e,"pointercancel",this._disableDelayedDrag),v(e,"mousemove",this._delayedDragTouchMoveHandler),v(e,"touchmove",this._delayedDragTouchMoveHandler),v(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?b(document,"pointermove",this._onTouchMove):t?b(document,"touchmove",this._onTouchMove):b(document,"mousemove",this._onTouchMove):(b(d,"dragend",this),b(S,"dragstart",this._onDragStart));try{document.selection?We(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ge=!1,S&&d){$("dragStarted",this,{evt:t}),this.nativeDraggable&&b(document,"dragover",Hi);var i=this.options;!e&&N(d,i.dragClass,!1),N(d,i.ghostClass,!0),p.active=this,e&&this._appendGhost(),O({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(X){this._lastX=X.clientX,this._lastY=X.clientY,li();for(var e=document.elementFromPoint(X.clientX,X.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(X.clientX,X.clientY),e!==t);)t=e;if(d.parentNode[L]._isOutsideThisEl(e),t)do{if(t[L]){var i=void 0;if(i=t[L]._onDragOver({clientX:X.clientX,clientY:X.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=Qt(t));si()}},_onTouchMove:function(e){if(le){var t=this.options,i=t.fallbackTolerance,a=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=g&&be(g,!0),l=g&&o&&o.a,s=g&&o&&o.d,c=Ge&&A&&Rt(A),u=(r.clientX-le.clientX+a.x)/(l||1)+(c?c[0]-dt[0]:0)/(l||1),h=(r.clientY-le.clientY+a.y)/(s||1)+(c?c[1]-dt[1]:0)/(s||1);if(!p.active&&!ge){if(i&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(g){o?(o.e+=u-(st||0),o.f+=h-(ct||0)):o={a:1,b:0,c:0,d:1,e:u,f:h};var m="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");f(g,"webkitTransform",m),f(g,"mozTransform",m),f(g,"msTransform",m),f(g,"transform",m),st=u,ct=h,X=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!g){var e=this.options.fallbackOnBody?document.body:S,t=x(d,!0,Ge,!0,e),i=this.options;if(Ge){for(A=e;f(A,"position")==="static"&&f(A,"transform")==="none"&&A!==document;)A=A.parentNode;A!==document.body&&A!==document.documentElement?(A===document&&(A=U()),t.top+=A.scrollTop,t.left+=A.scrollLeft):A=U(),dt=Rt(A)}g=d.cloneNode(!0),N(g,i.ghostClass,!1),N(g,i.fallbackClass,!0),N(g,i.dragClass,!0),f(g,"transition",""),f(g,"transform",""),f(g,"box-sizing","border-box"),f(g,"margin",0),f(g,"top",t.top),f(g,"left",t.left),f(g,"width",t.width),f(g,"height",t.height),f(g,"opacity","0.8"),f(g,"position",Ge?"absolute":"fixed"),f(g,"zIndex","100000"),f(g,"pointerEvents","none"),p.ghost=g,e.appendChild(g),f(g,"transform-origin",Ht/parseInt(g.style.width)*100+"% "+zt/parseInt(g.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,a=e.dataTransfer,r=i.options;if($("dragStart",this,{evt:e}),p.eventCanceled){this._onDrop();return}$("setupClone",this),p.eventCanceled||(I=ii(d),I.removeAttribute("id"),I.draggable=!1,I.style["will-change"]="",this._hideClone(),N(I,this.options.chosenClass,!1),p.clone=I),i.cloneId=We(function(){$("clone",i),!p.eventCanceled&&(i.options.removeCloneOnHide||S.insertBefore(I,d),i._hideClone(),O({sortable:i,name:"clone"}))}),!t&&N(d,r.dragClass,!0),t?(Ke=!0,i._loopId=setInterval(i._emulateDragOver,50)):(v(document,"mouseup",i._onDrop),v(document,"touchend",i._onDrop),v(document,"touchcancel",i._onDrop),a&&(a.effectAllowed="move",r.setData&&r.setData.call(i,a,d)),b(document,"drop",i),f(d,"transform","translateZ(0)")),ge=!0,i._dragStartId=We(i._dragStarted.bind(i,t,e)),b(document,"selectstart",i),xe=!0,window.getSelection().removeAllRanges(),Pe&&f(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,a,r,o,l=this.options,s=l.group,c=p.active,u=He===s,h=l.sort,m=_||c,w,E=this,y=!1;if(Et)return;function z(De,ui){$(De,E,W({evt:e,isOwner:u,axis:w?"vertical":"horizontal",revert:o,dragRect:a,targetRect:r,canSort:h,fromSortable:m,target:i,completed:P,onMove:function(Ft,fi){return Xe(S,t,d,a,Ft,x(Ft),e,fi)},changed:G},ui))}function j(){z("dragOverAnimationCapture"),E.captureAnimationState(),E!==m&&m.captureAnimationState()}function P(De){return z("dragOverCompleted",{insertion:De}),De&&(u?c._hideClone():c._showClone(E),E!==m&&(N(d,_?_.options.ghostClass:c.options.ghostClass,!1),N(d,l.ghostClass,!0)),_!==E&&E!==p.active?_=E:E===p.active&&_&&(_=null),m===E&&(E._ignoreWhileAnimating=i),E.animateAll(function(){z("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==m&&(m.animateAll(),m._ignoreWhileAnimating=null)),(i===d&&!d.animated||i===t&&!i.animated)&&(pe=null),!l.dragoverBubble&&!e.rootEl&&i!==document&&(d.parentNode[L]._isOutsideThisEl(e.target),!De&&se(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),y=!0}function G(){R=H(d),te=H(d,l.draggable),O({sortable:E,name:"change",toEl:t,newIndex:R,newDraggableIndex:te,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Y(i,l.draggable,t,!0),z("dragOver"),p.eventCanceled)return y;if(d.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||E._ignoreWhileAnimating===i)return P(!1);if(Ke=!1,c&&!l.disabled&&(u?h||(o=D!==S):_===this||(this.lastPutMode=He.checkPull(this,c,d,e))&&s.checkPut(this,c,d,e))){if(w=this._getDirection(e,i)==="vertical",a=x(d),z("dragOverValid"),p.eventCanceled)return y;if(o)return D=S,j(),this._hideClone(),z("revert"),p.eventCanceled||(de?S.insertBefore(d,de):S.appendChild(d)),P(!0);var M=Tt(t,l.draggable);if(!M||Yi(e,w,this)&&!M.animated){if(M===d)return P(!1);if(M&&t===e.target&&(i=M),i&&(r=x(i)),Xe(S,t,d,a,i,r,e,!!i)!==!1)return j(),M&&M.nextSibling?t.insertBefore(d,M.nextSibling):t.appendChild(d),D=t,G(),P(!0)}else if(M&&Xi(e,w,this)){var ae=Ee(t,0,l,!0);if(ae===d)return P(!1);if(i=ae,r=x(i),Xe(S,t,d,a,i,r,e,!1)!==!1)return j(),t.insertBefore(d,ae),D=t,G(),P(!0)}else if(i.parentNode===t){r=x(i);var B=0,re,ye=d.parentNode!==t,k=!Ni(d.animated&&d.toRect||a,i.animated&&i.toRect||r,w),we=w?"top":"left",Q=Nt(i,"top","top")||Nt(d,"top","top"),Se=Q?Q.scrollTop:void 0;pe!==i&&(re=r[we],Le=!1,ze=!k&&l.invertSwap||ye),B=Bi(e,i,r,w,k?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,ze,pe===i);var q;if(B!==0){var oe=H(d);do oe-=B,q=D.children[oe];while(q&&(f(q,"display")==="none"||q===g))}if(B===0||q===i)return P(!1);pe=i,$e=B;var Ie=i.nextElementSibling,J=!1;J=B===1;var Re=Xe(S,t,d,a,i,r,e,J);if(Re!==!1)return(Re===1||Re===-1)&&(J=Re===1),Et=!0,setTimeout(Gi,30),j(),J&&!Ie?t.appendChild(d):i.parentNode.insertBefore(d,J?Ie:i),Q&&ti(Q,0,Se-Q.scrollTop),D=d.parentNode,re!==void 0&&!ze&&(Ue=Math.abs(re-x(i)[we])),G(),P(!0)}if(t.contains(d))return P(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){v(document,"mousemove",this._onTouchMove),v(document,"touchmove",this._onTouchMove),v(document,"pointermove",this._onTouchMove),v(document,"dragover",se),v(document,"mousemove",se),v(document,"touchmove",se)},_offUpEvents:function(){var e=this.el.ownerDocument;v(e,"mouseup",this._onDrop),v(e,"touchend",this._onDrop),v(e,"pointerup",this._onDrop),v(e,"pointercancel",this._onDrop),v(e,"touchcancel",this._onDrop),v(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(R=H(d),te=H(d,i.draggable),$("drop",this,{evt:e}),D=d&&d.parentNode,R=H(d),te=H(d,i.draggable),p.eventCanceled){this._nulling();return}ge=!1,ze=!1,Le=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yt(this.cloneId),yt(this._dragStartId),this.nativeDraggable&&(v(document,"drop",this),v(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pe&&f(document.body,"user-select",""),f(d,"transform",""),e&&(xe&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),g&&g.parentNode&&g.parentNode.removeChild(g),(S===D||_&&_.lastPutMode!=="clone")&&I&&I.parentNode&&I.parentNode.removeChild(I),d&&(this.nativeDraggable&&v(d,"dragend",this),ht(d),d.style["will-change"]="",xe&&!ge&&N(d,_?_.options.ghostClass:this.options.ghostClass,!1),N(d,this.options.chosenClass,!1),O({sortable:this,name:"unchoose",toEl:D,newIndex:null,newDraggableIndex:null,originalEvent:e}),S!==D?(R>=0&&(O({rootEl:D,name:"add",toEl:D,fromEl:S,originalEvent:e}),O({sortable:this,name:"remove",toEl:D,originalEvent:e}),O({rootEl:D,name:"sort",toEl:D,fromEl:S,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),_&&_.save()):R!==ve&&R>=0&&(O({sortable:this,name:"update",toEl:D,originalEvent:e}),O({sortable:this,name:"sort",toEl:D,originalEvent:e})),p.active&&((R==null||R===-1)&&(R=ve,te=Fe),O({sortable:this,name:"end",toEl:D,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){$("nulling",this),S=d=D=g=de=I=Be=ie=le=X=xe=R=te=ve=Fe=pe=$e=_=He=p.dragged=p.ghost=p.clone=p.active=null,Ze.forEach(function(e){e.checked=!0}),Ze.length=st=ct=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":d&&(this._onDragOver(e),zi(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,a=0,r=i.length,o=this.options;a<r;a++)t=i[a],Y(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Wi(t));return e},sort:function(e,t){var i={},a=this.el;this.toArray().forEach(function(r,o){var l=a.children[o];Y(l,this.options.draggable,a,!1)&&(i[r]=l)},this),t&&this.captureAnimationState(),e.forEach(function(r){i[r]&&(a.removeChild(i[r]),a.appendChild(i[r]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Y(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var a=Ne.modifyOption(this,e,t);typeof a<"u"?i[e]=a:i[e]=t,e==="group"&&oi(i)},destroy:function(){$("destroy",this);var e=this.el;e[L]=null,v(e,"mousedown",this._onTapStart),v(e,"touchstart",this._onTapStart),v(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(v(e,"dragover",this),v(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ve.splice(Ve.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ie){if($("hideClone",this),p.eventCanceled)return;f(I,"display","none"),this.options.removeCloneOnHide&&I.parentNode&&I.parentNode.removeChild(I),ie=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(ie){if($("showClone",this),p.eventCanceled)return;d.parentNode==S&&!this.options.group.revertClone?S.insertBefore(I,d):de?S.insertBefore(I,de):S.appendChild(I),this.options.group.revertClone&&this.animate(d,I),f(I,"display",""),ie=!1}}};function zi(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Xe(n,e,t,i,a,r,o,l){var s,c=n[L],u=c.options.onMove,h;return window.CustomEvent&&!Z&&!ke?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=e,s.from=n,s.dragged=t,s.draggedRect=i,s.related=a||e,s.relatedRect=r||x(e),s.willInsertAfter=l,s.originalEvent=o,n.dispatchEvent(s),u&&(h=u.call(c,s,o)),h}function ht(n){n.draggable=!1}function Gi(){Et=!1}function Xi(n,e,t){var i=x(Ee(t.el,0,t.options,!0)),a=ni(t.el,t.options,g),r=10;return e?n.clientX<a.left-r||n.clientY<i.top&&n.clientX<i.right:n.clientY<a.top-r||n.clientY<i.bottom&&n.clientX<i.left}function Yi(n,e,t){var i=x(Tt(t.el,t.options.draggable)),a=ni(t.el,t.options,g),r=10;return e?n.clientX>a.right+r||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>a.bottom+r||n.clientX>i.right&&n.clientY>i.top}function Bi(n,e,t,i,a,r,o,l){var s=i?n.clientY:n.clientX,c=i?t.height:t.width,u=i?t.top:t.left,h=i?t.bottom:t.right,m=!1;if(!o){if(l&&Ue<c*a){if(!Le&&($e===1?s>u+c*r/2:s<h-c*r/2)&&(Le=!0),Le)m=!0;else if($e===1?s<u+Ue:s>h-Ue)return-$e}else if(s>u+c*(1-a)/2&&s<h-c*(1-a)/2)return Ui(e)}return m=m||o,m&&(s<u+c*r/2||s>h-c*r/2)?s>u+c/2?1:-1:0}function Ui(n){return H(d)<H(n)?1:-1}function Wi(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function ji(n){Ze.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&Ze.push(i)}}function We(n){return setTimeout(n,0)}function yt(n){return clearTimeout(n)}tt&&b(document,"touchmove",function(n){(p.active||ge)&&n.cancelable&&n.preventDefault()});p.utils={on:b,off:v,css:f,find:Jt,is:function(e,t){return!!Y(e,t,e,!1)},extend:Ti,throttle:ei,closest:Y,toggleClass:N,clone:ii,index:H,nextTick:We,cancelNextTick:yt,detectDirection:ri,getChild:Ee,expando:L};p.get=function(n){return n[L]};p.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(p.utils=W(W({},p.utils),i.utils)),Ne.mount(i)})};p.create=function(n,e){return new p(n,e)};p.version=_i;var C=[],_e,wt,St=!1,ut,ft,Qe,Ae;function qi(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?b(document,"dragover",this._handleAutoScroll):this.options.supportPointer?b(document,"pointermove",this._handleFallbackAutoScroll):i.touches?b(document,"touchmove",this._handleFallbackAutoScroll):b(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?v(document,"dragover",this._handleAutoScroll):(v(document,"pointermove",this._handleFallbackAutoScroll),v(document,"touchmove",this._handleFallbackAutoScroll),v(document,"mousemove",this._handleFallbackAutoScroll)),Xt(),je(),Pi()},nulling:function(){Qe=wt=_e=St=Ae=ut=ft=null,C.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var a=this,r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=document.elementFromPoint(r,o);if(Qe=t,i||this.options.forceAutoScrollFallback||ke||Z||Pe){pt(t,this.options,l,i);var s=ne(l,!0);St&&(!Ae||r!==ut||o!==ft)&&(Ae&&Xt(),Ae=setInterval(function(){var c=ne(document.elementFromPoint(r,o),!0);c!==s&&(s=c,je()),pt(t,a.options,c,i)},10),ut=r,ft=o)}else{if(!this.options.bubbleScroll||ne(l,!0)===U()){je();return}pt(t,this.options,ne(l,!1),!1)}}},V(n,{pluginName:"scroll",initializeByDefault:!0})}function je(){C.forEach(function(n){clearInterval(n.pid)}),C=[]}function Xt(){clearInterval(Ae)}var pt=ei(function(n,e,t,i){if(e.scroll){var a=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,l=e.scrollSpeed,s=U(),c=!1,u;wt!==t&&(wt=t,je(),_e=e.scroll,u=e.scrollFn,_e===!0&&(_e=ne(t,!0)));var h=0,m=_e;do{var w=m,E=x(w),y=E.top,z=E.bottom,j=E.left,P=E.right,G=E.width,M=E.height,ae=void 0,B=void 0,re=w.scrollWidth,ye=w.scrollHeight,k=f(w),we=w.scrollLeft,Q=w.scrollTop;w===s?(ae=G<re&&(k.overflowX==="auto"||k.overflowX==="scroll"||k.overflowX==="visible"),B=M<ye&&(k.overflowY==="auto"||k.overflowY==="scroll"||k.overflowY==="visible")):(ae=G<re&&(k.overflowX==="auto"||k.overflowX==="scroll"),B=M<ye&&(k.overflowY==="auto"||k.overflowY==="scroll"));var Se=ae&&(Math.abs(P-a)<=o&&we+G<re)-(Math.abs(j-a)<=o&&!!we),q=B&&(Math.abs(z-r)<=o&&Q+M<ye)-(Math.abs(y-r)<=o&&!!Q);if(!C[h])for(var oe=0;oe<=h;oe++)C[oe]||(C[oe]={});(C[h].vx!=Se||C[h].vy!=q||C[h].el!==w)&&(C[h].el=w,C[h].vx=Se,C[h].vy=q,clearInterval(C[h].pid),(Se!=0||q!=0)&&(c=!0,C[h].pid=setInterval((function(){i&&this.layer===0&&p.active._onTouchMove(Qe);var Ie=C[this.layer].vy?C[this.layer].vy*l:0,J=C[this.layer].vx?C[this.layer].vx*l:0;typeof u=="function"&&u.call(p.dragged.parentNode[L],J,Ie,n,Qe,C[this.layer].el)!=="continue"||ti(C[this.layer].el,J,Ie)}).bind({layer:h}),24))),h++}while(e.bubbleScroll&&m!==s&&(m=ne(m,!1)));St=c}},30),ci=function(e){var t=e.originalEvent,i=e.putSortable,a=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,l=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=i||r;l();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,h=document.elementFromPoint(u.clientX,u.clientY);s(),c&&!c.el.contains(h)&&(o("spill"),this.onSpill({dragEl:a,putSortable:i}))}};function Pt(){}Pt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var a=Ee(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(t,a):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:ci};V(Pt,{pluginName:"revertOnSpill"});function Ot(){}Ot.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,a=i||this.sortable;a.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),a.animateAll()},drop:ci};V(Ot,{pluginName:"removeOnSpill"});p.mount(new qi);p.mount(Ot,Pt);/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const it=new Set,Ki={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function Vi(n){if(hi(n))return;di(n),it.add(n);const e="id",{group:t,handleSelector:i,dragSelector:a}=n;n.sortable=p.create(n.el,{dataIdAttr:e,...Ki,...!!a&&{draggable:a},...!!t&&{group:{name:t,...!!n.canPull&&{pull:(r,o,l,{newDraggableIndex:s,oldDraggableIndex:c})=>n.canPull({toEl:r.el,fromEl:o.el,dragEl:l,newIndex:s,oldIndex:c})},...!!n.canPut&&{put:(r,o,l,{newDraggableIndex:s,oldDraggableIndex:c})=>n.canPut({toEl:r.el,fromEl:o.el,dragEl:l,newIndex:s,oldIndex:c})}}},onMove:({from:r,dragged:o,to:l,related:s})=>{n.onDragMove&&n.onDragMove({fromEl:r,dragEl:o,toEl:l,relatedEl:s})},handle:i,filter:`${i}[disabled]`,onStart:({from:r,item:o,to:l,newDraggableIndex:s,oldDraggableIndex:c})=>{It.active=!0,Zi(),n.onDragStart({fromEl:r,dragEl:o,toEl:l,newIndex:s,oldIndex:c})},onEnd:({from:r,item:o,to:l,newDraggableIndex:s,oldDraggableIndex:c})=>{It.active=!1,Qi(),n.onDragEnd({fromEl:r,dragEl:o,toEl:l,newIndex:s,oldIndex:c})},onSort:({from:r,item:o,to:l,newDraggableIndex:s,oldDraggableIndex:c})=>{n.onDragSort({fromEl:r,dragEl:o,toEl:l,newIndex:s,oldIndex:c})}})}function di(n){var e;hi(n)||(it.delete(n),(e=n.sortable)==null||e.destroy(),n.sortable=null)}const It={active:!1};function hi(n){return n.dragEnabled&&It.active}function Zi(){Array.from(it).forEach(n=>n.onGlobalDragStart())}function Qi(){Array.from(it).forEach(n=>n.onGlobalDragEnd())}/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.0.3 */const ee={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text"},gt={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},Ji=Ct`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%}.stack{--calcite-stack-padding-inline: 0;--calcite-stack-padding-block: 0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,en=`${mt}, ${Ce}`,et=class et extends xt{constructor(){super(),this.dragSelector=Ce,this.focusableItems=[],this.handleSelector="calcite-sort-handle",this.listItems=[],this.listItemGroups=[],this.mutationObserver=gi("mutation",()=>{this.willPerformFilter=!0,this.updateListItems()}),this.updateListItems=Kt(()=>{this.updateGroupItems();const{selectionAppearance:e,selectionMode:t,interactionMode:i,dragEnabled:a,el:r,filterEl:o,moveToItems:l,displayMode:s,scale:c}=this,u=Array.from(this.el.querySelectorAll(Ce));if(u.forEach(h=>{h.scale=c,h.selectionAppearance=e,h.selectionMode=t,h.interactionMode=i,h.closest(at)===r&&(h.moveToItems=l.filter(m=>m.element!==r&&!h.contains(m.element)),h.dragHandle=a,h.displayMode=s)}),this.parentListEl){this.setUpSorting();return}this.listItems=u,this.filterEnabled&&this.willPerformFilter&&(this.willPerformFilter=!1,this.dataForFilter=this.getItemData(),o&&(o.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(h=>!h.closed&&!h.hidden),this.updateFilteredItems(),this.borderItems(),this.focusableItems=this.filteredItems.filter(h=>!h.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()},Yt.nextTick),this.visibleItems=[],this.willFilterEmit=!1,this.willPerformFilter=!1,this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1,this.moveToItems=[],this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.filteredData=[],this.filteredItems=[],this.interactionMode="interactive",this.loading=!1,this.messages=Bt({blocking:!0}),this.displayMode="flat",this.scale="m",this.selectedItems=[],this.selectionAppearance="icon",this.selectionMode="none",this.calciteInternalListDefaultSlotChange=ce({cancelable:!1}),this.calciteListChange=ce({cancelable:!1}),this.calciteListDragEnd=ce({cancelable:!1}),this.calciteListDragStart=ce({cancelable:!1}),this.calciteListFilter=ce({cancelable:!1}),this.calciteListOrderChange=ce({cancelable:!1}),this.listen("calciteInternalListItemToggle",this.handleCalciteListItemToggle),this.listen("calciteInternalFocusPreviousItem",this.handleCalciteInternalFocusPreviousItem),this.listen("calciteInternalListItemActive",this.handleCalciteInternalListItemActive),this.listen("calciteListItemSelect",this.handleCalciteListItemSelect),this.listen("calciteInternalAssistiveTextChange",this.handleCalciteInternalAssistiveTextChange),this.listen("calciteSortHandleReorder",this.handleSortReorder),this.listen("calciteSortHandleMove",this.handleSortMove),this.listen("calciteInternalListItemSelect",this.handleCalciteInternalListItemSelect),this.listen("calciteInternalListItemSelectMultiple",this.handleCalciteInternalListItemSelectMultiple),this.listen("calciteInternalListItemChange",this.handleCalciteInternalListItemChange),this.listen("calciteInternalListItemGroupDefaultSlotChange",this.handleCalciteInternalListItemGroupDefaultSlotChange)}get hasActiveFilter(){return this.filterEnabled&&this.filterText&&this.filteredItems.length!==this.visibleItems.length}get showNoResultsContainer(){return this.filterEnabled&&this.filterText&&this.hasFilterNoResults&&this.visibleItems.length&&!this.filteredItems.length}async setFocus(){var e,t;return await Ut(this),this.filterEnabled?(e=this.filterEl)==null?void 0:e.setFocus():(t=this.focusableItems.find(i=>i.active))==null?void 0:t.setFocus()}connectedCallback(){super.connectedCallback(),this.connectObserver(),this.willPerformFilter=!0,this.updateListItems(),this.setUpSorting(),this.setParentList(),this.setListItemGroups()}async load(){this.handleInteractionModeWarning()}willUpdate(e){(e.has("filterText")||e.has("filterProps")||e.has("filterPredicate"))&&this.performFilter(),(e.has("filterEnabled")&&(this.hasUpdated||this.filterEnabled!==!1)||e.has("group")||e.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none")||e.has("selectionAppearance")&&(this.hasUpdated||this.selectionAppearance!=="icon")||e.has("displayMode")&&this.hasUpdated||e.has("scale")&&this.hasUpdated||e.has("filterPredicate")&&this.hasUpdated)&&this.handleListItemChange()}updated(){Wt(this)}loaded(){}disconnectedCallback(){super.disconnectedCallback(),this.disconnectObserver(),di(this)}handleListItemChange(){this.willPerformFilter=!0,this.updateListItems()}handleCalciteListItemToggle(e){this.parentListEl||(e.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(e){if(this.parentListEl)return;e.stopPropagation();const{focusableItems:t}=this,i=t.findIndex(a=>a.active)-1;t[i]&&this.focusRow(t[i])}handleCalciteInternalListItemActive(e){if(this.parentListEl)return;e.stopPropagation();const t=e.target,{listItems:i}=this;i.forEach(a=>{a.active=a===t})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(e){this.assistiveText=e.detail.message,e.stopPropagation()}handleSortReorder(e){this.parentListEl||this.handleReorder(e)}handleSortMove(e){this.parentListEl||this.handleMove(e)}handleCalciteInternalListItemSelect(e){if(this.parentListEl)return;e.stopPropagation();const t=e.target,{listItems:i,selectionMode:a}=this;t.selected&&(a==="single"||a==="single-persist")&&i.forEach(r=>r.selected=r===t),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(e){if(this.parentListEl)return;e.stopPropagation();const{target:t,detail:i}=e,{focusableItems:a,lastSelectedInfo:r}=this,o=t;if(i.selectMultiple&&r){const l=a.indexOf(o),s=a.indexOf(r.selectedItem),c=Math.min(s,l),u=Math.max(s,l);a.slice(c,u+1).forEach(h=>h.selected=r.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(e){this.parentListEl||(e.stopPropagation(),this.updateListItems())}handleCalciteInternalListItemGroupDefaultSlotChange(e){e.stopPropagation()}connectObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){var e;(e=this.mutationObserver)==null||e.disconnect()}setUpSorting(){const{dragEnabled:e}=this;e&&Vi(this)}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(e){this.calciteListDragEnd.emit(e)}onDragMove({relatedEl:e}){e.open=!0}onDragStart(e){e.dragEl.sortHandleOpen=!1,this.calciteListDragStart.emit(e)}onDragSort(e){this.setParentList(),this.updateListItems(),this.calciteListOrderChange.emit(e)}setParentList(){var e;this.parentListEl=(e=this.el.parentElement)==null?void 0:e.closest(at)}handleDefaultSlotChange(e){bi(e.target),this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()}setListItemGroups(){this.listItemGroups=Array.from(this.el.querySelectorAll(mt))}handleFilterActionsStartSlotChange(e){this.hasFilterActionsStart=he(e)}handleFilterActionsEndSlotChange(e){this.hasFilterActionsEnd=he(e)}handleFilterNoResultsSlotChange(e){this.hasFilterNoResults=he(e)}setActiveListItem(){const{focusableItems:e}=this;e.some(t=>t.active)||e[0]&&(e[0].active=!0)}async updateSelectedItems(e=!1){await this.updateComplete,this.selectedItems=this.visibleItems.filter(t=>t.selected),e&&this.calciteListChange.emit()}filterElements({el:e,filteredItems:t,visibleParents:i}){const a=!i.has(e)&&!t.includes(e);e.filterHidden=a;const r=e.parentElement.closest(en);r&&(a||i.add(r),this.filterElements({el:r,filteredItems:t,visibleParents:i}))}allParentListItemsOpen(e){var i;const t=(i=e.parentElement)==null?void 0:i.closest(Ce);if(t){if(!t.open)return!1}else return!0;return this.allParentListItemsOpen(t)}borderItems(){const e=this.visibleItems.filter(t=>!t.filterHidden&&this.allParentListItemsOpen(t));e.forEach(t=>t.bordered=t!==e[e.length-1])}updateFilteredItems(){const{visibleItems:e,filteredData:t,filterText:i,filterPredicate:a}=this,r=e==null?void 0:e.filter(s=>e.every(c=>c===s||!s.contains(c))),o=a?e.filter(a):i?t.map(s=>s.el):e||[],l=new WeakSet;r.forEach(s=>this.filterElements({el:s,filteredItems:o,visibleParents:l})),this.filteredItems=o,this.willFilterEmit&&(this.willFilterEmit=!1,this.calciteListFilter.emit())}updateFilteredData(){const{filterEl:e}=this;e&&(e.filteredItems&&(this.filteredData=e.filteredItems),this.updateListItems())}async filterAndUpdateData(){var e;await((e=this.filterEl)==null?void 0:e.filter(this.filterText)),this.updateFilteredData()}get effectiveFilterProps(){return this.filterProps?this.filterProps.filter(e=>e!=="el"):["description","label","metadata","heading"]}performFilter(){const{filterEl:e,filterText:t,effectiveFilterProps:i}=this;e&&(e.value=t,e.filterProps=i,this.filterAndUpdateData())}setFilterEl(e){this.filterEl=e,this.performFilter()}handleFilterChange(e){e.stopPropagation();const{value:t}=e.currentTarget;this.filterText=t,this.willFilterEmit=!0,this.updateFilteredData()}getItemData(){return this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,heading:this.getGroupHeading(e),el:e}))}getGroupHeading(e){return this.listItemGroups.filter(t=>t.contains(e)).map(t=>t.heading)}updateGroupItems(){const{el:e,group:t,scale:i}=this,a=mi(e),r=t?Array.from(a.querySelectorAll(`${at}[group="${t}"]`)).filter(o=>!o.disabled&&o.dragEnabled):[];this.moveToItems=r.map(o=>({element:o,label:o.label??o.id,id:vi()})),Array.from(this.el.querySelectorAll(mt)).forEach(o=>{o.scale=i})}focusRow(e){const{focusableItems:t}=this;e&&(t.forEach(i=>i.active=i===e),e.setFocus())}isNavigable(e){var i;const t=(i=e.parentElement)==null?void 0:i.closest(Ce);return t?t.open&&this.isNavigable(t):!0}handleListKeydown(e){var r;if(e.defaultPrevented||this.parentListEl)return;const{key:t}=e,i=this.focusableItems.filter(o=>this.isNavigable(o)),a=i.findIndex(o=>o.active);if(t==="ArrowDown"){e.preventDefault();const o=e.target===this.filterEl?0:a+1;i[o]&&this.focusRow(i[o])}else if(t==="ArrowUp"){if(e.preventDefault(),a===0&&this.filterEnabled){(r=this.filterEl)==null||r.setFocus();return}const o=a-1;i[o]&&this.focusRow(i[o])}else if(t==="Home"){e.preventDefault();const o=i[0];o&&this.focusRow(o)}else if(t==="End"){e.preventDefault();const o=i[i.length-1];o&&this.focusRow(o)}}handleInteractionModeWarning(){this.interactionMode==="static"&&this.selectionMode!=="none"&&this.selectionAppearance==="border"&&console.warn('selection-appearance="border" requires interaction-mode="interactive"')}handleMove(e){const{moveTo:t}=e.detail,i=e.target,a=i==null?void 0:i.parentElement,r=t.element,o=Array.from(a.children).filter(rt).indexOf(i);if(!a)return;i.sortHandleOpen=!1,this.disconnectObserver(),r.prepend(i),Ei(i);const l=Array.from(r.children).filter(rt).indexOf(i);this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:i,fromEl:a,toEl:r,newIndex:l,oldIndex:o})}handleReorder(e){const{reorder:t}=e.detail,i=e.target,a=i==null?void 0:i.parentElement;if(!a)return;i.sortHandleOpen=!1;const r=Array.from(a.children).filter(rt),o=r.length-1,l=r.indexOf(i);let s=l;switch(t){case"top":s=0;break;case"bottom":s=o;break;case"up":s=l===0?0:l-1;break;case"down":s=l===o?o:l+1;break}this.disconnectObserver();const c=t==="up"||t==="top"?r[s]:r[s].nextSibling;a.insertBefore(i,c),this.updateListItems(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:i,fromEl:a,toEl:a,newIndex:s,oldIndex:l})}render(){const{loading:e,label:t,disabled:i,dataForFilter:a,filterEnabled:r,filterPlaceholder:o,filterText:l,filterLabel:s,hasFilterActionsStart:c,hasFilterActionsEnd:u,effectiveFilterProps:h}=this;return jt({disabled:this.disabled,children:T`<div class=${F(ee.container)}>${this.dragEnabled?T`<span aria-live=assertive class=${F(ee.assistiveText)}>${this.assistiveText}</span>`:null}${this.renderItemAriaLive()}${e?T`<calcite-scrim class=${F(ee.scrim)} .loading=${e}></calcite-scrim>`:null}<div .ariaBusy=${e} .ariaLabel=${t||""} class=${F(ee.table)} @keydown=${this.handleListKeydown} role=treegrid>${r||c||u?T`<div class=${F(ee.sticky)} role=rowgroup><div role=row><div role=columnheader><calcite-stack class=${F(ee.stack)}><slot name=${gt.filterActionsStart} @slotchange=${this.handleFilterActionsStartSlotChange} slot=${me.actionsStart}></slot><calcite-filter .ariaLabel=${o} .disabled=${i} .filterProps=${h} .items=${a} .label=${s} @calciteFilterChange=${this.handleFilterChange} .placeholder=${o} .scale=${this.scale} .value=${l} ${qt(this.setFilterEl)}></calcite-filter><slot name=${gt.filterActionsEnd} @slotchange=${this.handleFilterActionsEndSlotChange} slot=${me.actionsEnd}></slot></calcite-stack></div></div></div>`:null}<div class=${F(ee.tableContainer)} role=rowgroup><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div><div aria-live=polite data-test-id=no-results-container .hidden=${!this.showNoResultsContainer}><slot name=${gt.filterNoResults} @slotchange=${this.handleFilterNoResultsSlotChange}></slot></div></div>`})}renderItemAriaLive(){const{messages:e,filteredItems:t,parentListEl:i,messages:{_lang:a},numberingSystem:r}=this;return $t.numberFormatOptions={locale:a,numberingSystem:r},i?null:T`<div aria-live=polite class=${F(ee.assistiveText)}>${this.hasActiveFilter?Te("aria-filter-enabled",T`<div>${e.filterEnabled}</div>`):null}${Te("aria-item-count",T`<div>${e.total.replace("{count}",$t.localize(t.length.toString()))}</div>`)}${t.length?Te("aria-item-list",T`<ol>${t.map(o=>T`<li>${o.label}</li>`)}</ol>`):null}</div>`}};et.properties={assistiveText:16,dataForFilter:16,hasFilterActionsEnd:16,hasFilterActionsStart:16,hasFilterNoResults:16,moveToItems:16,hasActiveFilter:16,showNoResultsContainer:16,canPull:0,canPut:0,disabled:7,dragEnabled:7,filterEnabled:7,filterPredicate:0,filterLabel:3,filterPlaceholder:3,filterProps:0,filterText:3,filteredData:0,filteredItems:0,group:3,interactionMode:3,label:1,loading:7,messageOverrides:0,displayMode:3,numberingSystem:1,scale:3,selectedItems:0,selectionAppearance:3,selectionMode:3},et.styles=Ji;let Dt=et;_t("calcite-list",Dt);export{Dt as List};
